Traceback (most recent call last):
  File "C:\Users\hatef\anaconda3\envs\jbook\lib\site-packages\jupyter_cache\executors\utils.py", line 58, in single_nb_execution
    executenb(
  File "C:\Users\hatef\anaconda3\envs\jbook\lib\site-packages\nbclient\client.py", line 1204, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "C:\Users\hatef\anaconda3\envs\jbook\lib\site-packages\nbclient\util.py", line 84, in wrapped
    return just_run(coro(*args, **kwargs))
  File "C:\Users\hatef\anaconda3\envs\jbook\lib\site-packages\nbclient\util.py", line 62, in just_run
    return loop.run_until_complete(coro)
  File "C:\Users\hatef\anaconda3\envs\jbook\lib\asyncio\base_events.py", line 616, in run_until_complete
    return future.result()
  File "C:\Users\hatef\anaconda3\envs\jbook\lib\site-packages\nbclient\client.py", line 663, in async_execute
    await self.async_execute_cell(
  File "C:\Users\hatef\anaconda3\envs\jbook\lib\site-packages\nbclient\client.py", line 965, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "C:\Users\hatef\anaconda3\envs\jbook\lib\site-packages\nbclient\client.py", line 862, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
## plotly
from plotly.offline import init_notebook_mode, iplot 
import plotly.graph_objs as go
import plotly.offline as py
import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D

def generate_regression_surface(params, Boston):
    Radio = np.arange(0, 50)
    TV = np.arange(0, 300)
    X1, X2 = np.meshgrid(Boston['LSTAT'].values, Boston['AGE'].values, indexing='xy')
    Z = params['const'] + X1 * params['LSTAT'] + X2 * params['AGE']
    return X1, X2, Z

def plot_3d(Results, Boston):
    params = Results.params
    X1, X2, Z = generate_regression_surface(params, Boston)
    bet0, bet1, bet2 = params['const'], params['LSTAT'], params['AGE']
    txt = f'Regression: y = {bet0:.3f} + {bet1:.3f}*LSTAT  + {bet2:.3f}*AGE'
    
    fig = go.Figure()
    fig.add_trace(go.Scatter3d(x= Boston['LSTAT'],
                               y= Boston['AGE'],
                               z= Boston['MEDV'],
                               mode='markers', marker=dict(size=4, color= Boston.MEDV, colorscale='Blues', opacity=0.8)))
    fig.add_trace(go.Surface(z=Z, x=X1, y=X2, colorscale='Greens', colorbar_len=0.6))
    fig.update_layout(height = 550, title={'text': '<b>' + txt + '<b>',
                                       'x':.5, 'y': .85, 'xanchor': 'center', 'yanchor': 'top'},
                  scene = dict(xaxis = dict(range=[0, 50], title = 'LSTAT'),
                               yaxis = dict(range=[0, 110], title = 'AGE'),
                               zaxis = dict(range=[0, 60], title = "MEDV")))
    fig.show()

plot_3d(Results, Boston)
------------------

[1;31m---------------------------------------------------------------------------[0m
[1;31mModuleNotFoundError[0m                       Traceback (most recent call last)
Cell [1;32mIn[4], line 2[0m
[0;32m      1[0m [38;5;66;03m## plotly[39;00m
[1;32m----> 2[0m [38;5;28;01mfrom[39;00m [38;5;21;01mplotly[39;00m[38;5;21;01m.[39;00m[38;5;21;01moffline[39;00m [38;5;28;01mimport[39;00m init_notebook_mode, iplot 
[0;32m      3[0m [38;5;28;01mimport[39;00m [38;5;21;01mplotly[39;00m[38;5;21;01m.[39;00m[38;5;21;01mgraph_objs[39;00m [38;5;28;01mas[39;00m [38;5;21;01mgo[39;00m
[0;32m      4[0m [38;5;28;01mimport[39;00m [38;5;21;01mplotly[39;00m[38;5;21;01m.[39;00m[38;5;21;01moffline[39;00m [38;5;28;01mas[39;00m [38;5;21;01mpy[39;00m

[1;31mModuleNotFoundError[0m: No module named 'plotly'
ModuleNotFoundError: No module named 'plotly'

