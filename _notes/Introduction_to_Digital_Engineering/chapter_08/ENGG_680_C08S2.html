

<!DOCTYPE html>


<html >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Geometric Transformations &#8212; Introduction to Digital Engineering</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/myfile.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'chapter_08/ENGG_680_C08S2';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="None"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../Introduction.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../chapter_01/ReadMe.html">1. Introduction to Python Programming</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../chapter_01/ENGG_680_C01S1.html">1.1. Variable names, Expressions and statements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter_01/ENGG_680_C01S2.html">1.2. Fundamental Concepts and Operations in Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter_01/ENGG_680_C01S3.html">1.3. Functions</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../chapter_02/ReadMe.html">2. Control Flow: Conditionals, Recursion, and Iteration</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../chapter_02/ENGG_680_C02S1.html">2.1. Conditionals and recursion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter_02/ENGG_680_C02S2.html">2.2. Iteration</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../chapter_03/ReadMe.html">3. Data Structures and File Handling in Python</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../chapter_03/ENGG_680_C03S1.html">3.1. Strings in Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter_03/ENGG_680_C03S2.html">3.2. Python Lists</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter_03/ENGG_680_C03S3.html">3.3. Python Dictionaries: Key-Value Pairs in Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter_03/ENGG_680_C03S4.html">3.4. Python Tuples: Immutable Sequences in Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter_03/ENGG_680_C03S5.html">3.5. Python Sets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter_03/ENGG_680_C03S6.html">3.6. Files in Python (Optional Section)</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../chapter_04/ReadMe.html">4. Classes and Objects</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../chapter_04/ENGG_680_C04S1.html">4.1. Introduction to Classes and Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter_04/ENGG_680_C04S2.html">4.2. Inheritance and Polymorphism</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter_04/ENGG_680_C04S3.html">4.3. Encapsulation and Abstraction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter_04/ENGG_680_C04S4.html">4.4. Copying Objects (Optional Section)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter_04/ENGG_680_C04S5.html">4.5. Magic Methods (Dunder Methods) in Python (Optional Section)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter_04/ENGG_680_C04S6.html">4.6. Examples of Classes (Optional Section)</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../chapter_05/ReadMe.html">5. Introduction to NumPy</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../chapter_05/ENGG_680_C05S1.html">5.1. Basics of Numpy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter_05/ENGG_680_C05S2.html">5.2. NumPy Function Reference and Usage Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter_05/ENGG_680_C05S3.html">5.3. Advanced Numpy Concepts (Optional Section)</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../chapter_06/ReadMe.html">6. Working with Data using Pandas</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../chapter_06/ENGG_680_C06S1.html">6.1. An Introduction to Pandas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter_06/ENGG_680_C06S2.html">6.2. DataFrame and Series Indices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter_06/ENGG_680_C06S3.html">6.3. Pandas Data Selection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter_06/ENGG_680_C06S4.html">6.4. Handling Missing Data in Pandas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter_06/ENGG_680_C06S5.html">6.5. Combining Datasets using Pandas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter_06/ENGG_680_C06S6.html">6.6. Aggregation and Grouping in Pandas</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../chapter_07/ReadMe.html">7. Data Visualization using Python</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../chapter_07/ENGG_680_C07S1.html">7.1. Getting started with Matplotlib</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter_07/ENGG_680_C07S2.html">7.2. Matplotlib Styles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter_07/ENGG_680_C07S3.html">7.3. Matplotlib interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter_07/ENGG_680_C07S4.html">7.4. Adjusting the Plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter_07/ENGG_680_C07S5.html">7.5. Seaborn plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter_07/ENGG_680_C07S6.html">7.6. Python Plotting Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ReadMe.html">8. An Introduction to Computer Vision</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../chapter_09/ReadMe.html">9. An Introduction to Machine Learning</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../chapter_09/ENGG_680_C09S1.html">9.1. Prologue: Statistical Metrics and Evaluation</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../appendixes/ReadMe.html">10. Appendices</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../appendixes/SampleQuestions_1.html">10.1. Sample Questions 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendixes/SampleQuestions_2.html">10.2. Sample Questions 2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../References.html">11. References</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">



<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Geometric Transformations</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sample-images">Sample Images</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#affine-transformations">Affine Transformations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-to-derive-an-affine-transformation">How to Derive an Affine Transformation?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#getaffinetransform">getAffineTransform</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#image-wrap">Image Wrap</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#getrotationmatrix2d">getRotationMatrix2D</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#resizing-images-with-opencv">Resizing Images with OpenCV</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#warp-perspective-optional-content">Warp Perspective (Optional Content)</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <div class="tex2jax_ignore mathjax_ignore section" id="geometric-transformations">
<h1>Geometric Transformations<a class="headerlink" href="#geometric-transformations" title="Permalink to this headline">#</a></h1>
<div class="section" id="sample-images">
<h2>Sample Images<a class="headerlink" href="#sample-images" title="Permalink to this headline">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">sklearn.datasets.load_sample_images()</span></code> is a function available in scikit-learn, a widely used Python machine learning library <span id="id1">[<a class="reference internal" href="../References.html#id57" title="scikit-learn Developers. Scikit-learn user guide. https://scikit-learn.org/stable/user_guide.html, 2023. [Online; accessed 01-August-2023].">scikit-learn Developers, 2023</a>]</span>. Detailed information about this function can be found <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.datasets.load_sample_images.html">here</a>. This function is used to load a collection of sample images, which can be useful for testing and experimenting with image-based machine learning algorithms and data analysis pipelines.</p>
<p>When you call <code class="docutils literal notranslate"><span class="pre">load_sample_images()</span></code>, it retrieves a predefined set of sample images that are bundled with the scikit-learn library. These images cover a range of subjects and formats, providing a diverse set of data for practicing and developing image processing, computer vision, and machine learning techniques.</p>
<p>The loaded images are usually provided as a dictionary-like object, containing the images themselves, information about the images, and sometimes additional metadata. This allows you to quickly access and work with the sample images for various tasks.
If you’re interested, you can access the detailed documentation for this image dataset <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.datasets.load_sample_images.html#sklearn.datasets.load_sample_images">here</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import necessary libraries</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>  <span class="c1"># Import the plotting library</span>
<span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_sample_images</span>  <span class="c1"># Import a function to load sample images</span>

<span class="c1"># Set font properties for plots</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;font.family&#39;</span><span class="p">:</span> <span class="s1">&#39;Calibri&#39;</span><span class="p">,</span> <span class="s1">&#39;axes.titlesize&#39;</span><span class="p">:</span> <span class="mi">16</span><span class="p">})</span>

<span class="c1"># Define a function to display images with titles and optional settings</span>
<span class="k">def</span> <span class="nf">ImShow</span><span class="p">(</span><span class="n">Images</span><span class="p">,</span> <span class="n">Names</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Images&#39;</span><span class="p">,</span> <span class="n">grayscale</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">9.5</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">)):</span>
    <span class="c1"># Create a figure with two subplots</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span> <span class="n">figsize</span><span class="p">)</span>  <span class="c1"># Create a figure with 1 row and 2 columns of subplots</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>  <span class="c1"># Flatten the subplots for easier manipulation</span>

    <span class="c1"># Iterate over the first two images</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
        <span class="c1"># Display the image in grayscale if grayscale is True, otherwise in color</span>
        <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Images</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span> <span class="k">if</span> <span class="n">grayscale</span> <span class="k">else</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Set aspect ratio to 1 (square aspect)</span>
        <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>  <span class="c1"># Turn off axis</span>
        <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">Names</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>  <span class="c1"># Set image title with bold font</span>

    <span class="k">if</span> <span class="n">title</span><span class="p">:</span>
        <span class="c1"># Set main title if provided</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>  <span class="c1"># Adjust layout for better spacing</span>

    <span class="k">return</span> <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span>

<span class="c1"># Load sample images</span>
<span class="n">Images</span> <span class="o">=</span> <span class="n">load_sample_images</span><span class="p">()[</span><span class="s1">&#39;images&#39;</span><span class="p">]</span>  <span class="c1"># Load the sample images</span>
<span class="c1"># Extract image names from file paths, removing extension and converting to title case</span>
<span class="n">Names</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">title</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">load_sample_images</span><span class="p">()[</span><span class="s1">&#39;filenames&#39;</span><span class="p">]]</span>

<span class="c1"># Display the original images</span>
<span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">ImShow</span><span class="p">(</span><span class="n">Images</span><span class="p">,</span> <span class="n">Names</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Original Images&#39;</span><span class="p">)</span>  <span class="c1"># Call the ImShow function to display images</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/8d5103b2d02ae8474dcdfa4cf31de501ba20502759a5464101f7bc1af6dad85b.png" src="../_images/8d5103b2d02ae8474dcdfa4cf31de501ba20502759a5464101f7bc1af6dad85b.png" />
</div>
</div>
</div>
<div class="section" id="affine-transformations">
<h2>Affine Transformations<a class="headerlink" href="#affine-transformations" title="Permalink to this headline">#</a></h2>
<p>An affine transformation is a fundamental concept in image processing used to represent various geometric operations. It combines linear transformations (matrix multiplication) with translations (vector addition) to achieve versatile effects <span id="id2">[<a class="reference internal" href="../References.html#id26" title="OpenCV Developers. Opencv documentation. https://docs.opencv.org/4.x/index.html, 2023. [Online; accessed 01-August-2023].">OpenCV Developers, 2023</a>]</span>:</p>
<ol class="arabic simple">
<li><p><strong>Rotations</strong>: Employing linear transformations to rotate the image.</p></li>
<li><p><strong>Translations</strong>: Achieved by adding a vector, effectively shifting the image.</p></li>
<li><p><strong>Scale Operations</strong>: Applying linear transformations to resize the image.</p></li>
</ol>
<p>At its core, an affine transformation describes the relationship between two images. This transformation is typically represented by a 2x3 matrix <span id="id3">[<a class="reference internal" href="../References.html#id26" title="OpenCV Developers. Opencv documentation. https://docs.opencv.org/4.x/index.html, 2023. [Online; accessed 01-August-2023].">OpenCV Developers, 2023</a>]</span>:</p>
<div class="amsmath math notranslate nohighlight" id="equation-04d26b0b-a5d2-44f6-8137-9c6176c0fcb7">
<span class="eqno">()<a class="headerlink" href="#equation-04d26b0b-a5d2-44f6-8137-9c6176c0fcb7" title="Permalink to this equation">#</a></span>\[\begin{equation}
A = \begin{bmatrix} a_{00} &amp; a_{01} \\ a_{10} &amp; a_{11} \end{bmatrix}_{2 \times 2} \quad B = \begin{bmatrix} b_{00} \\ b_{10} \end{bmatrix}_{2 \times 1}
\end{equation}\]</div>
<p>We combine these matrices to form a 2x3 matrix:</p>
<div class="amsmath math notranslate nohighlight" id="equation-5535424a-a531-480a-a74a-5f3387653e9f">
<span class="eqno">()<a class="headerlink" href="#equation-5535424a-a531-480a-a74a-5f3387653e9f" title="Permalink to this equation">#</a></span>\[\begin{equation}
M = \begin{bmatrix} A &amp; B \end{bmatrix} = \begin{bmatrix} a_{00} &amp; a_{01} &amp; b_{00} \\ a_{10} &amp; a_{11} &amp; b_{10} \end{bmatrix}_{2 \times 3}
\end{equation}\]</div>
<p>To transform a 2D vector <span class="math notranslate nohighlight">\(X = \begin{bmatrix} x \\ y \end{bmatrix}\)</span> using A and B, we can use:</p>
<div class="amsmath math notranslate nohighlight" id="equation-7e19ba9f-557c-47af-b680-453dd28730f4">
<span class="eqno">()<a class="headerlink" href="#equation-7e19ba9f-557c-47af-b680-453dd28730f4" title="Permalink to this equation">#</a></span>\[\begin{equation}
T = A \cdot X + B
\end{equation}\]</div>
<p>This results in:</p>
<div class="amsmath math notranslate nohighlight" id="equation-f0a7718c-3458-430c-b38c-b545d3aa132d">
<span class="eqno">()<a class="headerlink" href="#equation-f0a7718c-3458-430c-b38c-b545d3aa132d" title="Permalink to this equation">#</a></span>\[\begin{equation}
T = \begin{bmatrix} a_{00}x + a_{01}y + b_{00} \\ a_{10}x + a_{11}y + b_{10} \end{bmatrix}
\end{equation}\]</div>
<p>The aforementioned transformation may be alternatively expressed as follows. Given an input 2D vector <span class="math notranslate nohighlight">\(\mathbf{X} = \begin{bmatrix} x \\ y \end{bmatrix}\)</span>, the transformation <span class="math notranslate nohighlight">\(T\)</span> can be succinctly defined as:</p>
<div class="amsmath math notranslate nohighlight" id="equation-9cba394b-26d3-48d7-9684-b00db713a672">
<span class="eqno">()<a class="headerlink" href="#equation-9cba394b-26d3-48d7-9684-b00db713a672" title="Permalink to this equation">#</a></span>\[\begin{equation}
\begin{bmatrix}x' \\ y' \end{bmatrix}= M \mathbf{X^*}
= \begin{bmatrix} a_{00}x + a_{01}y + b_{00} \\ a_{10}x + a_{11}y + b_{10} \end{bmatrix}
\end{equation}\]</div>
<p>Where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(M\)</span> denotes the 2x3 matrix:</p></li>
</ul>
<div class="amsmath math notranslate nohighlight" id="equation-b80ac94d-67ac-4e6c-9181-765075033150">
<span class="eqno">()<a class="headerlink" href="#equation-b80ac94d-67ac-4e6c-9181-765075033150" title="Permalink to this equation">#</a></span>\[\begin{equation}
M = \begin{bmatrix} A &amp; B \end{bmatrix} = \begin{bmatrix} a_{00} &amp; a_{01} &amp; b_{00} \\ a_{10} &amp; a_{11} &amp; b_{10} \end{bmatrix}_{2 \times 3}
\end{equation}\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\mathbf{X}\)</span> represents the input vector:</p></li>
</ul>
<div class="amsmath math notranslate nohighlight" id="equation-c5fc6f51-7bc6-4380-b822-7428b462d8ad">
<span class="eqno">()<a class="headerlink" href="#equation-c5fc6f51-7bc6-4380-b822-7428b462d8ad" title="Permalink to this equation">#</a></span>\[\begin{equation} \mathbf{X} = \begin{bmatrix} x \\y \end{bmatrix}
\end{equation}\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\mathbf{X^*}\)</span> signifies an augmented form of the input vector:</p></li>
</ul>
<div class="amsmath math notranslate nohighlight" id="equation-fa3eeadc-266b-43d8-8daa-e7b6cf106b07">
<span class="eqno">()<a class="headerlink" href="#equation-fa3eeadc-266b-43d8-8daa-e7b6cf106b07" title="Permalink to this equation">#</a></span>\[\begin{equation} \mathbf{X} = \begin{bmatrix} x \\y \\ 1 \end{bmatrix}
\end{equation}\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(x'\)</span> and <span class="math notranslate nohighlight">\(y'\)</span> denote the transformed coordinates, which are the outcomes of applying the affine transformation <span class="math notranslate nohighlight">\(T\)</span> to the input vector <span class="math notranslate nohighlight">\(\mathbf{X}\)</span>.</p></li>
</ul>
<p>Affine transformations provide a powerful framework for image manipulation, enabling operations such as rotation, translation, scaling, and more. They form the basis for transforming images efficiently and systematically.</p>
<ul class="simple">
<li><p><strong>Translation Transformations:</strong></p></li>
</ul>
<div class="amsmath math notranslate nohighlight" id="equation-a13bf6b6-e797-4fdb-bdbc-a3d7ab1f4a32">
<span class="eqno">()<a class="headerlink" href="#equation-a13bf6b6-e797-4fdb-bdbc-a3d7ab1f4a32" title="Permalink to this equation">#</a></span>\[\begin{equation}
A = \begin{bmatrix} 1 &amp; 0 \\ 0 &amp; 1 \end{bmatrix}_{2 \times 2} \quad B = \begin{bmatrix} b_{00} \\ b_{10} \end{bmatrix}_{2 \times 1}
\end{equation}\]</div>
<ul class="simple">
<li><p><strong>Rotation Transformations (for positive angles being clockwise rotations:)</strong></p></li>
</ul>
<div class="amsmath math notranslate nohighlight" id="equation-957421de-efb0-4576-b56a-fa1bbf891527">
<span class="eqno">()<a class="headerlink" href="#equation-957421de-efb0-4576-b56a-fa1bbf891527" title="Permalink to this equation">#</a></span>\[\begin{equation}
A = \begin{bmatrix} \cos(\theta) &amp; -\sin(\theta) \\ \sin(\theta) &amp; \cos(\theta) \end{bmatrix}_{2 \times 2} \quad B = \begin{bmatrix} 0 \\ 0 \end{bmatrix}_{2 \times 1}
\end{equation}\]</div>
<ul class="simple">
<li><p><strong>Scaling Transformations:</strong></p></li>
</ul>
<div class="amsmath math notranslate nohighlight" id="equation-fcb7b109-0312-4814-8626-46c37dc080e0">
<span class="eqno">()<a class="headerlink" href="#equation-fcb7b109-0312-4814-8626-46c37dc080e0" title="Permalink to this equation">#</a></span>\[\begin{equation}
A = \begin{bmatrix} a_{00} &amp; 0 \\ 0 &amp; a_{11} \end{bmatrix}_{2 \times 2} \quad B = \begin{bmatrix} b_{00} \\ b_{10} \end{bmatrix}_{2 \times 1}
\end{equation}\]</div>
<div class="section" id="how-to-derive-an-affine-transformation">
<h3>How to Derive an Affine Transformation?<a class="headerlink" href="#how-to-derive-an-affine-transformation" title="Permalink to this headline">#</a></h3>
<p>An Affine Transformation represents a fundamental relationship between two images. This connection can be established through different means, generally falling into two categories [OpenCV Developers, 2023]:</p>
<ol class="arabic simple">
<li><p><strong>When We Know Both <span class="math notranslate nohighlight">\(X\)</span> and <span class="math notranslate nohighlight">\(T\)</span></strong>: In this scenario, we possess knowledge about both sets of points, X and T, and we are aware that these points are related. Our objective is to find the transformation matrix, denoted as <span class="math notranslate nohighlight">\(M\)</span>.</p></li>
<li><p><strong>When We Know <span class="math notranslate nohighlight">\(X\)</span> and <span class="math notranslate nohighlight">\(M\)</span></strong>: If we have information about the transformation matrix <span class="math notranslate nohighlight">\(M\)</span> and the original set of points <span class="math notranslate nohighlight">\(X\)</span>, we can easily obtain the transformed set of points <span class="math notranslate nohighlight">\(T\)</span> by applying the transformation equation <span class="math notranslate nohighlight">\(T = MX\)</span>. This information for <span class="math notranslate nohighlight">\(M\)</span> can either be explicit, represented as a 2-by-3 matrix, or it may be inferred from a geometric relationship between points.</p></li>
</ol>
<p>To elucidate the concept further, let’s delve into the scenario described in point (b). When <span class="math notranslate nohighlight">\(M\)</span> is the relationship that connects two images, we can analyze the simplest case where <span class="math notranslate nohighlight">\(M\)</span> relates three distinct points in both images. Consider the visual representation below <span id="id4">[<a class="reference internal" href="../References.html#id26" title="OpenCV Developers. Opencv documentation. https://docs.opencv.org/4.x/index.html, 2023. [Online; accessed 01-August-2023].">OpenCV Developers, 2023</a>]</span>:</p>
<div class="figure align-center" id="id9">
<a class="reference internal image-reference" href="../_images/Warp_Affine_0.png"><img alt="../_images/Warp_Affine_0.png" src="../_images/Warp_Affine_0.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Image courtesy of <span id="id5">[<a class="reference internal" href="../References.html#id26" title="OpenCV Developers. Opencv documentation. https://docs.opencv.org/4.x/index.html, 2023. [Online; accessed 01-August-2023].">OpenCV Developers, 2023</a>]</span>.</span><a class="headerlink" href="#id9" title="Permalink to this image">#</a></p>
</div>
<p>In the image, points 1, 2, and 3 form a triangle in image 1. This same triangle, when mapped into image 2 through the Affine Transformation, undergoes a noticeable change. By determining the Affine Transformation using these three chosen points (which can be selected as needed), we can establish this discovered relationship for all pixels within an image.</p>
<p>This methodology empowers us to apply the same transformation across the entire image, enabling geometric alterations such as rotations, translations, and scaling. Understanding this relationship between points and the transformation matrix forms the foundation for systematically manipulating images with Affine Transformations.</p>
</div>
<div class="section" id="getaffinetransform">
<h3>getAffineTransform<a class="headerlink" href="#getaffinetransform" title="Permalink to this headline">#</a></h3>
<p>The function <code class="docutils literal notranslate"><span class="pre">cv2.getAffineTransform(src,</span> <span class="pre">dst)</span></code> is a part of the OpenCV library in Python, and it’s used to calculate the Affine Transformation matrix that maps points from one plane (source, <code class="docutils literal notranslate"><span class="pre">src</span></code>) to another plane (destination, <code class="docutils literal notranslate"><span class="pre">dst</span></code>). The Affine Transformation is a linear transformation that involves rotation, translation, and scaling. This transformation matrix can then be used to warp or transform images, shapes, or sets of points from the source plane to the destination plane <span id="id6">[<a class="reference internal" href="../References.html#id25" title="G. Bradski. The OpenCV Library. Dr. Dobb's Journal of Software Tools, 2000.">Bradski, 2000</a>, <a class="reference internal" href="../References.html#id26" title="OpenCV Developers. Opencv documentation. https://docs.opencv.org/4.x/index.html, 2023. [Online; accessed 01-August-2023].">OpenCV Developers, 2023</a>]</span>.</p>
<p>Here’s a breakdown of the function parameters and return value:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">src</span></code>: The source points, which is a 3x2 array of floating-point coordinates representing the original points in the source plane. It should contain three points (rows), each with two coordinates (columns).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dst</span></code>: The destination points, which is also a 3x2 array of floating-point coordinates. These represent the corresponding points in the destination plane. Just like the source points, it should contain three points with two coordinates each.</p></li>
</ol>
<p>The function calculates the Affine Transformation matrix that best maps the source points to the destination points. This matrix is denoted by the return value <code class="docutils literal notranslate"><span class="pre">retval</span></code>, which is a 2x3 floating-point matrix representing the transformation. The <code class="docutils literal notranslate"><span class="pre">retval</span></code> matrix can be used for various purposes, such as warping images using <code class="docutils literal notranslate"><span class="pre">cv2.warpAffine()</span></code> or transforming sets of points.</p>
<p>To use the Affine Transformation matrix obtained from <code class="docutils literal notranslate"><span class="pre">cv2.getAffineTransform()</span></code>, you’ll typically apply it to an image or points using the <code class="docutils literal notranslate"><span class="pre">cv2.warpAffine()</span></code> function, which performs the actual transformation. This function uses the calculated matrix to apply the transformation to the image or points. You can find the full description of this function <a class="reference external" href="https://docs.opencv.org/3.4/d4/d61/tutorial_warp_affine.html">here</a>.</p>
</div>
<div class="section" id="image-wrap">
<h3>Image Wrap<a class="headerlink" href="#image-wrap" title="Permalink to this headline">#</a></h3>
<p>The function you’re referring to, <code class="docutils literal notranslate"><span class="pre">cv2.warpAffine()</span></code>, is part of the OpenCV library, which is a popular computer vision and image processing library in Python. This specific function is used for geometric image transformations, particularly affine transformations. Let’s break down the parameters and its purpose:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cv2</span><span class="o">.</span><span class="n">warpAffine</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="n">dsize</span><span class="p">[,</span> <span class="n">dst</span><span class="p">[,</span> <span class="n">flags</span><span class="p">[,</span> <span class="n">borderMode</span><span class="p">[,</span> <span class="n">borderValue</span><span class="p">]]]])</span> <span class="o">-&gt;</span> <span class="n">dst</span>
</pre></div>
</div>
<p>Here’s what each parameter does:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">src</span></code>: This is the input image, which is the source image you want to apply the transformation to. It should be a NumPy array (image) in most cases.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">M</span></code>: This parameter represents the transformation matrix. It’s a 2x3 matrix that defines the affine transformation. The matrix includes parameters like scaling, rotation, translation, and shearing. The transformation matrix <code class="docutils literal notranslate"><span class="pre">M</span></code> is used to specify how each pixel in the source image should be mapped to the destination image.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dsize</span></code>: This is the size (width and height) of the output image (destination image) you want to create after applying the transformation. It’s specified as a tuple (width, height).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dst</span></code> (optional): This is the output image where the transformed image will be stored. If not provided, a new image will be created to store the result.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">flags</span></code> (optional): This parameter specifies the interpolation method to be used during the transformation. Different methods can be used to determine the pixel values of the output image at locations that do not exactly map to locations in the source image.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">borderMode</span></code> (optional): This parameter determines how to handle pixels that fall outside the boundaries of the source image. It defines the border mode.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">borderValue</span></code> (optional): When a pixel is outside the source image boundaries, this parameter specifies the value that should be used for the pixel.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-&gt;</span> <span class="pre">dst</span></code>: This indicates that the function returns the destination image, which contains the result of the affine transformation.</p></li>
</ol>
<p>You can find the full description of this function <a class="reference external" href="https://docs.opencv.org/3.4/d4/d61/tutorial_warp_affine.html">here</a>.</p>
<p><font color='Blue'><b>Example</b></font>:
In this illustrative code snippet, we showcase Affine Image Transformation using <code class="docutils literal notranslate"><span class="pre">cv2.getAffineTransform</span></code> in Python, including the definition of source and destination points, calculation of the Affine Transformation matrix, and visualization of the original and transformed images. We use the sklearn <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.datasets.load_sample_images.html#sklearn.datasets.load_sample_images">image dataset</a> to demonstrate basic operations using Open CV.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cv2</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_sample_image</span>

<span class="c1"># Load an example image</span>
<span class="n">Img</span> <span class="o">=</span> <span class="n">load_sample_image</span><span class="p">(</span><span class="s1">&#39;flower.jpg&#39;</span><span class="p">)</span>
<span class="n">rows</span><span class="p">,</span> <span class="n">cols</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">Img</span><span class="o">.</span><span class="n">shape</span>

<span class="c1"># Define the source points (original triangle)</span>
<span class="n">src_pts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">([[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span>
                      <span class="p">[</span><span class="mi">200</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span>
                      <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">200</span><span class="p">]])</span>

<span class="c1"># Define the destination points (how the triangle should be transformed)</span>
<span class="n">dst_pts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">],</span>
                      <span class="p">[</span><span class="mi">200</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span>
                      <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">250</span><span class="p">]])</span>

<span class="c1"># Calculate the Affine Transformation matrix using cv2.getAffineTransform</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">getAffineTransform</span><span class="p">(</span><span class="n">src_pts</span><span class="p">,</span> <span class="n">dst_pts</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Affine Transformation Matrix (M) =&#39;</span><span class="p">,</span> <span class="n">M</span><span class="p">)</span>

<span class="c1"># Apply the Affine Transformation to the image</span>
<span class="n">Out</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">warpAffine</span><span class="p">(</span><span class="n">Img</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="p">(</span><span class="n">cols</span><span class="p">,</span> <span class="n">rows</span><span class="p">))</span>

<span class="c1"># Display the original and transformed images with titles</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">ImShow</span><span class="p">(</span><span class="n">Images</span><span class="o">=</span><span class="p">[</span><span class="n">Img</span><span class="p">,</span> <span class="n">Out</span><span class="p">],</span>
                 <span class="n">Names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Original Image&#39;</span><span class="p">,</span> <span class="s1">&#39;Transformed Image&#39;</span><span class="p">],</span>
                 <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Example: Affine Transformation&#39;</span><span class="p">,</span> <span class="n">grayscale</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Mark the source and destination points on the images</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">src_pts</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">src_pts</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>  <span class="c1"># Mark source points on the original image</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">dst_pts</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">dst_pts</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>  <span class="c1"># Mark destination points on the transformed image</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Affine Transformation Matrix (M) = [[  1.27   0.6  -83.33]
 [ -0.33   1.    66.67]]
</pre></div>
</div>
<img alt="../_images/6c91314ea8f8d21f6eb6bd9972962cc5ba62a36d48734ec2fd598efc902c3072.png" src="../_images/6c91314ea8f8d21f6eb6bd9972962cc5ba62a36d48734ec2fd598efc902c3072.png" />
</div>
</div>
<p>Given an input 2D vector <span class="math notranslate nohighlight">\(\mathbf{X} = \begin{bmatrix} x \\ y \end{bmatrix}\)</span>, the transformation <span class="math notranslate nohighlight">\(T\)</span> can be expressed as:</p>
<div class="amsmath math notranslate nohighlight" id="equation-9d730f83-64e2-45a7-8ed0-cc0c146dbdde">
<span class="eqno">()<a class="headerlink" href="#equation-9d730f83-64e2-45a7-8ed0-cc0c146dbdde" title="Permalink to this equation">#</a></span>\[\begin{equation}\begin{bmatrix}x' \\ y' \end{bmatrix} = M  \mathbf{X^{*}} \end{equation}\]</div>
<p>Where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(M\)</span> is the following 2x3 matrix:</p></li>
</ul>
<div class="amsmath math notranslate nohighlight" id="equation-a2911d2b-c0a7-453e-9652-5c949b921998">
<span class="eqno">()<a class="headerlink" href="#equation-a2911d2b-c0a7-453e-9652-5c949b921998" title="Permalink to this equation">#</a></span>\[\begin{equation} M = \begin{bmatrix} 1.27 &amp; 0.6 &amp; -83.33 \\ -0.33 &amp; 1.0 &amp; 66.67 \end{bmatrix} \end{equation}\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\mathbf{X}\)</span> represents the input vector:</p></li>
</ul>
<div class="amsmath math notranslate nohighlight" id="equation-177bc8ea-1b0c-46ca-b529-be4255673770">
<span class="eqno">()<a class="headerlink" href="#equation-177bc8ea-1b0c-46ca-b529-be4255673770" title="Permalink to this equation">#</a></span>\[\begin{equation} \mathbf{X} = \begin{bmatrix} x \\y \end{bmatrix}
\end{equation}\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\mathbf{X^*}\)</span> signifies an augmented form of the input vector:</p></li>
</ul>
<div class="amsmath math notranslate nohighlight" id="equation-5bd2fb9a-bd80-4c63-9377-1d185f97206a">
<span class="eqno">()<a class="headerlink" href="#equation-5bd2fb9a-bd80-4c63-9377-1d185f97206a" title="Permalink to this equation">#</a></span>\[\begin{equation} \mathbf{X} = \begin{bmatrix} x \\y \\ 1 \end{bmatrix}
\end{equation}\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(x'\)</span> and <span class="math notranslate nohighlight">\(y'\)</span> are the transformed coordinates, which are the result of applying the affine transformation <span class="math notranslate nohighlight">\(T\)</span> to the input vector <span class="math notranslate nohighlight">\(\mathbf{X}\)</span>.</p></li>
</ul>
<p>To calculate <span class="math notranslate nohighlight">\(x'\)</span> and <span class="math notranslate nohighlight">\(y'\)</span>, you perform the matrix multiplication as follows:</p>
<div class="amsmath math notranslate nohighlight" id="equation-10d45a52-e3e3-4962-99e7-d27ae4619909">
<span class="eqno">()<a class="headerlink" href="#equation-10d45a52-e3e3-4962-99e7-d27ae4619909" title="Permalink to this equation">#</a></span>\[\begin{equation}
\begin{bmatrix}
x' \\
y'
\end{bmatrix}
=
\begin{bmatrix}
1.27 &amp; 0.6 &amp; -83.33 \\
-0.33 &amp; 1.0 &amp; 66.67
\end{bmatrix}
\begin{bmatrix}
x \\
y \\
1
\end{bmatrix}
\end{equation}\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\([x, y]\)</span> represents a point in the original 2D plane, typically corresponding to a pixel location in the original image.</p></li>
<li><p><span class="math notranslate nohighlight">\([x', y']\)</span> represents the transformed point in the 2D plane, which corresponds to the new location of the pixel after applying the affine transformation.</p></li>
</ul>
<p><span class="math notranslate nohighlight">\([x, y]\)</span> are the coordinates of a point in the original image, and <span class="math notranslate nohighlight">\([x', y']\)</span> are the coordinates of the corresponding point in the transformed image after the affine transformation has been applied using the matrix <span class="math notranslate nohighlight">\(M\)</span>.</p>
<hr class="docutils" />
<p>This code demonstrates how to perform an affine transformation on an image using OpenCV. Let’s break down the code and explain each part:</p>
<ol class="arabic simple">
<li><p><strong>Importing Libraries</strong>:</p>
<ul class="simple">
<li><p>The code imports the necessary libraries: <code class="docutils literal notranslate"><span class="pre">cv2</span></code> (OpenCV), <code class="docutils literal notranslate"><span class="pre">numpy</span></code> as <code class="docutils literal notranslate"><span class="pre">np</span></code>, <code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot</span></code> as <code class="docutils literal notranslate"><span class="pre">plt</span></code>, <code class="docutils literal notranslate"><span class="pre">load_sample_image</span></code> from <code class="docutils literal notranslate"><span class="pre">sklearn.datasets</span></code> to load a sample image, and <code class="docutils literal notranslate"><span class="pre">pprint</span></code> for pretty-printing the transformation matrix.</p></li>
</ul>
</li>
<li><p><strong>Loading an Example Image</strong>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Img</span></code> is loaded with an example image named ‘flower.jpg’. The dimensions of the image are obtained using <code class="docutils literal notranslate"><span class="pre">Img.shape</span></code>, which returns the number of rows, columns, and channels.</p></li>
</ul>
</li>
<li><p><strong>Defining Source and Destination Points</strong>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">src_pts</span></code> defines a set of source points, which represent the original positions of a triangle in the image. Each point is specified as (x, y) coordinates in pixel units.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dst_pts</span></code> defines a set of destination points, indicating where the corresponding source points should be transformed to after the affine transformation.</p></li>
</ul>
</li>
<li><p><strong>Calculating the Affine Transformation Matrix</strong>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cv2.getAffineTransform(src_pts,</span> <span class="pre">dst_pts)</span></code> calculates the affine transformation matrix (<code class="docutils literal notranslate"><span class="pre">M</span></code>) that maps the source points to the destination points. This matrix describes how the original triangle should be transformed to match the positions specified by the destination points.</p></li>
<li><p>The calculated matrix <code class="docutils literal notranslate"><span class="pre">M</span></code> is printed using <code class="docutils literal notranslate"><span class="pre">pprint(M)</span></code> to display its values.</p></li>
</ul>
</li>
<li><p><strong>Applying the Affine Transformation</strong>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cv2.warpAffine(Img,</span> <span class="pre">M,</span> <span class="pre">(cols,</span> <span class="pre">rows))</span></code> applies the affine transformation to the original image (<code class="docutils literal notranslate"><span class="pre">Img</span></code>) using the transformation matrix <code class="docutils literal notranslate"><span class="pre">M</span></code>. The result is stored in the variable <code class="docutils literal notranslate"><span class="pre">Out</span></code>.</p></li>
</ul>
</li>
<li><p><strong>Displaying Images</strong>:</p>
<ul class="simple">
<li><p>The code uses a custom function <code class="docutils literal notranslate"><span class="pre">ImShow</span></code> (not defined in the provided code snippet) to display both the original and transformed images side by side. Titles are assigned to each image.</p></li>
</ul>
</li>
<li><p><strong>Marking Source and Destination Points</strong>:</p>
<ul class="simple">
<li><p>Red dots are added to both images to mark the source points on the original image (<code class="docutils literal notranslate"><span class="pre">ax[0]</span></code>) and the destination points on the transformed image (<code class="docutils literal notranslate"><span class="pre">ax[1]</span></code>).</p></li>
</ul>
</li>
</ol>
<p>The mathematics behind the transformation:</p>
<ul class="simple">
<li><p>The affine transformation matrix <code class="docutils literal notranslate"><span class="pre">M</span></code> represents a linear transformation that includes scaling, rotation, and translation.</p></li>
<li><p>It is a 2x3 matrix with elements (a, b, c, d, tx, ty) that describe how the original triangle is scaled (a, d), rotated (b, c), and translated (tx, ty) to match the destination points.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="k">def</span> <span class="nf">Transformation</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="n">src_pts</span><span class="p">):</span>
    <span class="c1"># Reshape src_pts for matrix multiplication</span>
    <span class="n">src_pts_reshaped</span> <span class="o">=</span> <span class="n">src_pts</span><span class="o">.</span><span class="n">T</span>

    <span class="c1"># Apply the transformation matrix M to the source points</span>
    <span class="n">transformed_pts</span> <span class="o">=</span> <span class="n">M</span> <span class="o">@</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">src_pts_reshaped</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">src_pts</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])))</span>

    <span class="c1"># Transpose the result to obtain a 2x3 matrix</span>
    <span class="n">transformed_pts</span> <span class="o">=</span> <span class="n">transformed_pts</span><span class="o">.</span><span class="n">T</span>

    <span class="c1"># transformed_pts now contains the transformed points in a 2x3 matrix</span>
    <span class="k">return</span> <span class="n">transformed_pts</span>
</pre></div>
</div>
</div>
</div>
<p>Note that if you use the above transfomratio, we get</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{align*}
\begin{bmatrix}x' \\y'\end{bmatrix} &amp;=
\begin{bmatrix}1.27 &amp; 0.6 &amp; -83.33 \\-0.33 &amp; 1.0 &amp; 66.67\end{bmatrix}
\begin{bmatrix}50 \\50 \\ 1\end{bmatrix}=
\begin{bmatrix}10 \\100\end{bmatrix}\\
%
\begin{bmatrix}x' \\y'\end{bmatrix} &amp;=
\begin{bmatrix}1.27 &amp; 0.6 &amp; -83.33 \\-0.33 &amp; 1.0 &amp; 66.67\end{bmatrix}
\begin{bmatrix}200 \\50 \\ 1\end{bmatrix}=
\begin{bmatrix}200 \\50\end{bmatrix}\\
%
\begin{bmatrix}x' \\y'\end{bmatrix} &amp;=
\begin{bmatrix}1.27 &amp; 0.6 &amp; -83.33 \\-0.33 &amp; 1.0 &amp; 66.67\end{bmatrix}
\begin{bmatrix}50 \\200\\ 1\end{bmatrix}=
\begin{bmatrix}100 \\250\end{bmatrix}\\
\end{align*}\]</div>
<p>Please note that all final outputs were rounded to the nearest whole integers.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;src_pts:&#39;</span><span class="p">)</span>
<span class="n">pprint</span><span class="p">(</span><span class="n">src_pts</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;dst_pts:&#39;</span><span class="p">)</span>
<span class="n">pprint</span><span class="p">(</span><span class="n">Transformation</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="n">src_pts</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>src_pts:
array([[ 50.,  50.],
       [200.,  50.],
       [ 50., 200.]], dtype=float32)
dst_pts:
array([[ 10.17, 100.17],
       [200.67,  50.67],
       [100.17, 250.17]])
</pre></div>
</div>
</div>
</div>
<p><font color='Blue'><b>Example</b></font>:
In this example, we demonstrate 2D Image Translation using <code class="docutils literal notranslate"><span class="pre">cv2.warpAffine</span></code> in Python, showcasing the transforming an image of an image using the following <span class="math notranslate nohighlight">\(M\)</span>:</p>
<div class="amsmath math notranslate nohighlight" id="equation-92946964-69f9-43fd-b875-87a9d489619b">
<span class="eqno">()<a class="headerlink" href="#equation-92946964-69f9-43fd-b875-87a9d489619b" title="Permalink to this equation">#</a></span>\[\begin{equation}
M =
\begin{bmatrix}
1 &amp; 0 &amp; 10 \\
0 &amp; 1 &amp; 20
\end{bmatrix}
\end{equation}\]</div>
<p>where specified values of <span class="math notranslate nohighlight">\(b_{00} = 10\)</span> and <span class="math notranslate nohighlight">\(b_{10} = 20\)</span> and displaying both the original and transformed images with informative labels. We utilize the <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.datasets.load_sample_images.html#sklearn.datasets.load_sample_images">image dataset function</a> from scikit-learn to showcase fundamental image manipulation operations using OpenCV.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cv2</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_sample_image</span>

<span class="c1"># Load the sample image</span>
<span class="n">Img</span> <span class="o">=</span> <span class="n">load_sample_image</span><span class="p">(</span><span class="s1">&#39;flower.jpg&#39;</span><span class="p">)</span>
<span class="n">rows</span><span class="p">,</span> <span class="n">cols</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">Img</span><span class="o">.</span><span class="n">shape</span>

<span class="c1"># Define a function to create a 2D translation matrix</span>
<span class="k">def</span> <span class="nf">map_matrix</span><span class="p">(</span><span class="n">tx</span><span class="p">,</span> <span class="n">ty</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a 2D translation matrix.</span>

<span class="sd">    Args:</span>
<span class="sd">        tx (float): Translation amount in the x-direction.</span>
<span class="sd">        ty (float): Translation amount in the y-direction.</span>

<span class="sd">    Returns:</span>
<span class="sd">        np.ndarray: A 2x3 transformation matrix for translation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Create a 2x3 transformation matrix with translation values (tx, ty)</span>
    <span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)[:</span><span class="mi">2</span><span class="p">,</span> <span class="p">:]</span>
    <span class="n">M</span><span class="p">[:,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">tx</span><span class="p">,</span> <span class="n">ty</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">M</span>

<span class="c1"># Apply the affine transformation to the image using warpAffine</span>
<span class="c1"># with translation values tx = 10 and ty = 20</span>
<span class="n">tx</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">ty</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">map_matrix</span><span class="p">(</span><span class="n">tx</span><span class="p">,</span> <span class="n">ty</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Transformation Matrix (M) =&#39;</span><span class="p">,</span> <span class="n">M</span><span class="p">)</span>
<span class="n">Out</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">warpAffine</span><span class="p">(</span><span class="n">Img</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="p">(</span><span class="n">cols</span><span class="p">,</span> <span class="n">rows</span><span class="p">))</span>

<span class="c1"># Display the original and transformed images with titles</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">ImShow</span><span class="p">([</span><span class="n">Img</span><span class="p">,</span> <span class="n">Out</span><span class="p">],</span> 
                 <span class="p">[</span><span class="s1">&#39;Original Image&#39;</span><span class="p">,</span> <span class="s1">&#39;Translated Image ($b_</span><span class="si">{00}</span><span class="s1">$ = </span><span class="si">%i</span><span class="s1">, $b_</span><span class="si">{01}</span><span class="s1">$ = </span><span class="si">%i</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">tx</span><span class="p">,</span> <span class="n">ty</span><span class="p">)],</span>
                 <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Example: Translation Transformation&#39;</span><span class="p">)</span>
    
<span class="c1"># Define the source points (original triangle)</span>
<span class="n">src_pts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">([[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span>
                      <span class="p">[</span><span class="mi">200</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span>
                      <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">200</span><span class="p">]])</span>

<span class="c1"># Define the destination points (how the triangle should be transformed)</span>
<span class="n">dst_pts</span> <span class="o">=</span> <span class="n">Transformation</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="n">src_pts</span><span class="p">)</span>
<span class="c1"># Mark the source and destination points on the images</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">src_pts</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">src_pts</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>  <span class="c1"># Mark source points on the original image</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">dst_pts</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">dst_pts</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>  <span class="c1"># Mark destination points on the transformed image</span>

<span class="c1"># Add text indicating the size of the original and transformed images</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="mf">0.02</span> <span class="o">*</span> <span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">s</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Size: </span><span class="si">{</span><span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> by </span><span class="si">{</span><span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
               <span class="n">size</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s2">&quot;square&quot;</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s1">&#39;LightSkyBlue&#39;</span><span class="p">))</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="mf">0.02</span> <span class="o">*</span> <span class="n">Out</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">s</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Size: </span><span class="si">{</span><span class="n">Out</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> by </span><span class="si">{</span><span class="n">Out</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
               <span class="n">size</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s2">&quot;square&quot;</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s1">&#39;LightSkyBlue&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Transformation Matrix (M) = [[ 1.  0. 10.]
 [ 0.  1. 20.]]
</pre></div>
</div>
<img alt="../_images/2281e62ebb1eea4dca52af4de90c8e11843baea8da5e57f5cbf201c1a2045d3d.png" src="../_images/2281e62ebb1eea4dca52af4de90c8e11843baea8da5e57f5cbf201c1a2045d3d.png" />
</div>
</div>
<div class="warning admonition">
<p class="admonition-title">Note</p>
<p>It is essential to note that in this context, <span class="math notranslate nohighlight">\(t_x\)</span> and <span class="math notranslate nohighlight">\(t_y\)</span> are equivalent to <span class="math notranslate nohighlight">\(b_{00}\)</span> and <span class="math notranslate nohighlight">\(b_{10}\)</span> respectively, as represented by:</p>
<div class="amsmath math notranslate nohighlight" id="equation-c88c8bed-b65b-448d-92d4-79247d836dc0">
<span class="eqno">()<a class="headerlink" href="#equation-c88c8bed-b65b-448d-92d4-79247d836dc0" title="Permalink to this equation">#</a></span>\[\begin{equation}
B = \begin{bmatrix} b_{00} \\ b_{10} \end{bmatrix}_{2 \times 1} \text{ and } 
B = \begin{bmatrix} t_{x} \\ t_{y} \end{bmatrix}_{2 \times 1}
\end{equation}\]</div>
</div>
<p>Given an input 2D vector <span class="math notranslate nohighlight">\(\mathbf{X} = \begin{bmatrix} x \\ y \end{bmatrix}\)</span>, the transformation <span class="math notranslate nohighlight">\(T\)</span> can be expressed as:</p>
<div class="amsmath math notranslate nohighlight" id="equation-d68495f8-f0d6-43d8-9da4-5bb73555a505">
<span class="eqno">()<a class="headerlink" href="#equation-d68495f8-f0d6-43d8-9da4-5bb73555a505" title="Permalink to this equation">#</a></span>\[\begin{equation}
\begin{bmatrix}
x' \\
y'
\end{bmatrix}
=
M \mathbf{X^*}
\end{equation}\]</div>
<p>Where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(M\)</span> is the 2x3 translation matrix created in the <code class="docutils literal notranslate"><span class="pre">map_matrix</span></code> function:</p></li>
</ul>
<div class="amsmath math notranslate nohighlight" id="equation-5c1afe0d-d5e8-4919-ba7a-8f49a8954a19">
<span class="eqno">()<a class="headerlink" href="#equation-5c1afe0d-d5e8-4919-ba7a-8f49a8954a19" title="Permalink to this equation">#</a></span>\[\begin{equation}
M =
\begin{bmatrix}
1 &amp; 0 &amp; t_x \\
0 &amp; 1 &amp; t_y
\end{bmatrix}
\end{equation}\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\mathbf{X}\)</span> is the input vector:</p></li>
</ul>
<div class="amsmath math notranslate nohighlight" id="equation-9304a806-f635-4cd5-aa2c-bc5d92f0151c">
<span class="eqno">()<a class="headerlink" href="#equation-9304a806-f635-4cd5-aa2c-bc5d92f0151c" title="Permalink to this equation">#</a></span>\[\begin{equation}
\mathbf{X} =
\begin{bmatrix}
x \\ y \\ 1
\end{bmatrix}
\end{equation}\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\mathbf{X^*}\)</span> signifies an augmented form of the input vector:</p></li>
</ul>
<div class="amsmath math notranslate nohighlight" id="equation-a39b86f1-d78a-4f8c-bb85-b605330ce8a1">
<span class="eqno">()<a class="headerlink" href="#equation-a39b86f1-d78a-4f8c-bb85-b605330ce8a1" title="Permalink to this equation">#</a></span>\[\begin{equation} \mathbf{X} = \begin{bmatrix} x \\y \\ 1 \end{bmatrix}
\end{equation}\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(x'\)</span> and <span class="math notranslate nohighlight">\(y'\)</span> are the transformed coordinates, which are the result of applying the translation transformation <span class="math notranslate nohighlight">\(T\)</span> to the input vector <span class="math notranslate nohighlight">\(\mathbf{X}\)</span>.</p></li>
</ul>
<p>In this specific code:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(t_x\)</span> and <span class="math notranslate nohighlight">\(t_y\)</span> are the translation amounts in the x and y directions, respectively. These values are set to 10 and 20 in the code.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">map_matrix</span></code> function creates the translation matrix <span class="math notranslate nohighlight">\(M\)</span> with the specified translation values <span class="math notranslate nohighlight">\((t_x, t_y)\)</span>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">cv2.warpAffine</span></code> function applies the translation transformation to the image using the matrix <span class="math notranslate nohighlight">\(M\)</span>.</p></li>
</ul>
<p>The result is a translated image where each pixel has been shifted by <span class="math notranslate nohighlight">\(tx\)</span> units in the x-direction and <span class="math notranslate nohighlight">\(ty\)</span> units in the y-direction.</p>
<hr class="docutils" />
<p>This code demonstrates how to perform a 2D translation transformation on an image using OpenCV. Let’s break down the code and explain each part:</p>
<ol class="arabic simple">
<li><p><strong>Importing Libraries</strong>:</p>
<ul class="simple">
<li><p>The code imports the necessary libraries: <code class="docutils literal notranslate"><span class="pre">cv2</span></code> (OpenCV), <code class="docutils literal notranslate"><span class="pre">numpy</span></code> as <code class="docutils literal notranslate"><span class="pre">np</span></code>, <code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot</span></code> as <code class="docutils literal notranslate"><span class="pre">plt</span></code>, and <code class="docutils literal notranslate"><span class="pre">load_sample_image</span></code> from <code class="docutils literal notranslate"><span class="pre">sklearn.datasets</span></code> to load a sample image.</p></li>
</ul>
</li>
<li><p><strong>Loading a Sample Image</strong>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Img</span></code> is loaded with a sample image named ‘flower.jpg’. The dimensions of the image are obtained using <code class="docutils literal notranslate"><span class="pre">Img.shape</span></code>, which returns the number of rows, columns, and channels.</p></li>
</ul>
</li>
<li><p><strong>Defining a Function for the Translation Matrix</strong>:</p>
<ul class="simple">
<li><p>The code defines a Python function named <code class="docutils literal notranslate"><span class="pre">map_matrix</span></code> that creates a 2D translation matrix for 2D translation transformations.</p></li>
<li><p>The function takes two arguments <code class="docutils literal notranslate"><span class="pre">tx</span></code> and <code class="docutils literal notranslate"><span class="pre">ty</span></code>, which represent the translation amounts in the x and y directions.</p></li>
<li><p>Inside the function, a 2x3 transformation matrix <code class="docutils literal notranslate"><span class="pre">M</span></code> is created using <code class="docutils literal notranslate"><span class="pre">np.eye(3,</span> <span class="pre">dtype=float)[:2,</span> <span class="pre">:]</span></code>. This matrix initially contains identity values and only keeps the first two rows (2x3 matrix).</p></li>
<li><p>The translation values <code class="docutils literal notranslate"><span class="pre">tx</span></code> and <code class="docutils literal notranslate"><span class="pre">ty</span></code> are assigned to the last column of the matrix (<code class="docutils literal notranslate"><span class="pre">M[:,</span> <span class="pre">-1]</span></code>).</p></li>
</ul>
</li>
<li><p><strong>Applying the Translation Transformation</strong>:</p>
<ul class="simple">
<li><p>The code sets <code class="docutils literal notranslate"><span class="pre">b00</span></code> and <code class="docutils literal notranslate"><span class="pre">b01</span></code> to 10 and 20, respectively, representing the translation amounts in the x and y directions.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">map_matrix</span></code> function is called with these values to generate the transformation matrix <code class="docutils literal notranslate"><span class="pre">M</span></code>.</p></li>
<li><p>The matrix <code class="docutils literal notranslate"><span class="pre">M</span></code> is printed to show its values.</p></li>
<li><p>The affine transformation is applied to the original image (<code class="docutils literal notranslate"><span class="pre">Img</span></code>) using <code class="docutils literal notranslate"><span class="pre">cv2.warpAffine</span></code>. It uses the transformation matrix <code class="docutils literal notranslate"><span class="pre">M</span></code> and ensures the output image dimensions match the input image.</p></li>
</ul>
</li>
<li><p><strong>Displaying Images</strong>:</p>
<ul class="simple">
<li><p>The code uses a custom function <code class="docutils literal notranslate"><span class="pre">ImShow</span></code> (not defined in the provided code snippet) to display both the original and transformed images side by side. Titles are assigned to each image.</p></li>
<li><p>The title of the transformed image includes the translation values used (<code class="docutils literal notranslate"><span class="pre">$b_{00}$</span></code> and <code class="docutils literal notranslate"><span class="pre">$b_{01}$</span></code>), which are enclosed in dollar signs to indicate they are mathematical symbols.</p></li>
</ul>
</li>
<li><p><strong>Adding Text for Image Size</strong>:</p>
<ul class="simple">
<li><p>Text is added to both images to indicate their respective sizes. This information is placed at the top of each image and includes the height and width of the images.</p></li>
</ul>
</li>
</ol>
</div>
<div class="section" id="getrotationmatrix2d">
<h3>getRotationMatrix2D<a class="headerlink" href="#getrotationmatrix2d" title="Permalink to this headline">#</a></h3>
<p>In computer vision and image processing, the <code class="docutils literal notranslate"><span class="pre">cv2.getRotationMatrix2D</span></code> function, provided by the OpenCV library, is a valuable tool for computing a 2D rotation matrix. This matrix facilitates image rotations with precise control over the angle and scaling factor.</p>
<p>The function requires three primary arguments:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">center</span></code>: This parameter specifies the rotation center, typically represented as a tuple (x, y) denoting the coordinates of the central point around which the image will rotate.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">angle</span></code>: The rotation angle is defined in degrees. <strong>A positive angle value indicates counterclockwise rotation, while a negative angle value signifies a clockwise rotation</strong>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">scale</span></code>: The scaling factor applied to the image after rotation. It allows for resizing the image during the rotation process. A scale of 1 preserves the original size, values greater than 1 increase it, and values less than 1 decrease it.</p></li>
</ol>
<p>The function returns a 2x3 transformation matrix commonly referred to as the “rotation matrix.” This matrix encapsulates the geometric transformations necessary to achieve the specified rotation and scaling effects.</p>
<p>Mathematically, the rotation matrix is expressed as:</p>
<div class="amsmath math notranslate nohighlight" id="equation-e3ce54e9-eadd-4054-8a47-40b7b6aceb88">
<span class="eqno">()<a class="headerlink" href="#equation-e3ce54e9-eadd-4054-8a47-40b7b6aceb88" title="Permalink to this equation">#</a></span>\[\begin{equation}
\begin{bmatrix}
\alpha &amp; \beta &amp; (1 - \alpha) \cdot \texttt{center.x} - \beta \cdot \texttt{center.y} \\
- \beta &amp; \alpha &amp; \beta \cdot \texttt{center.x} + (1 - \alpha) \cdot \texttt{center.y}
\end{bmatrix}
\end{equation}\]</div>
<p>Where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\alpha = \texttt{scale} \cdot \cos(\texttt{angle})\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\beta = \texttt{scale} \cdot \sin(\texttt{angle})\)</span></p></li>
</ul>
<p>This transformation preserves the rotation center at its original position. If the objective is to change the rotation center, you can adjust the shift accordingly.</p>
<p>For a more comprehensive understanding of this function, please refer to <a class="reference external" href="https://docs.opencv.org/3.4/da/d54/group__imgproc__transform.html#gafbbc470ce83812914a70abfb604f4326">this link</a>.</p>
<p><font color='Blue'><b>Example:</b></font> In this example, we load an image, rotate it by 25 degrees, and display both the original and rotated images.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cv2</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_sample_image</span>

<span class="c1"># Load the sample image</span>
<span class="n">Img</span> <span class="o">=</span> <span class="n">load_sample_image</span><span class="p">(</span><span class="s1">&#39;flower.jpg&#39;</span><span class="p">)</span>

<span class="c1"># Rotate the image by 25 degrees</span>
<span class="n">rows</span><span class="p">,</span> <span class="n">cols</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">Img</span><span class="o">.</span><span class="n">shape</span>
<span class="n">angle</span> <span class="o">=</span> <span class="mi">25</span>  <span class="c1"># Specify the rotation angle</span>
<span class="n">scale</span> <span class="o">=</span> <span class="mf">1.0</span>  <span class="c1"># Scale factor (1.0 maintains the original size)</span>
<span class="n">rotation_center</span> <span class="o">=</span> <span class="p">(</span><span class="n">cols</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">rows</span> <span class="o">//</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># Center of the image</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;rotation_center:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">rotation_center</span><span class="p">)</span>

<span class="c1"># Get the rotation matrix using cv2.getRotationMatrix2D</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">getRotationMatrix2D</span><span class="p">(</span><span class="n">rotation_center</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="n">scale</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Affine Transformation Matrix (M) =&#39;</span><span class="p">,</span> <span class="n">M</span><span class="p">)</span>

<span class="c1"># Apply the affine transformation to the image using warpAffine</span>
<span class="n">Out</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">warpAffine</span><span class="p">(</span><span class="n">Img</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="p">(</span><span class="n">cols</span><span class="p">,</span> <span class="n">rows</span><span class="p">))</span>  <span class="c1"># Transformed image</span>

<span class="c1"># Display the original and rotated images</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">ImShow</span><span class="p">([</span><span class="n">Img</span><span class="p">,</span> <span class="n">Out</span><span class="p">],</span>
                 <span class="p">[</span><span class="s1">&#39;Original Image&#39;</span><span class="p">,</span> <span class="s1">&#39;Rotated Image&#39;</span><span class="p">],</span>
                 <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Image Rotation by </span><span class="si">{</span><span class="n">angle</span><span class="si">}</span><span class="s1"> Degrees&#39;</span><span class="p">)</span>

<span class="c1"># Define the source points (original triangle)</span>
<span class="n">src_pts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">([[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span>
                      <span class="p">[</span><span class="mi">200</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span>
                      <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">200</span><span class="p">]])</span>

<span class="c1"># Define the destination points (how the triangle should be transformed)</span>
<span class="n">dst_pts</span> <span class="o">=</span> <span class="n">Transformation</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="n">src_pts</span><span class="p">)</span>
<span class="c1"># Mark the source and destination points on the images</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">src_pts</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">src_pts</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>  <span class="c1"># Mark source points on the original image</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">dst_pts</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">dst_pts</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>  <span class="c1"># Mark destination points on the transformed image</span>

<span class="c1"># Add text indicating the size of the original and transformed images</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="mf">0.02</span> <span class="o">*</span> <span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">s</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Size: </span><span class="si">{</span><span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> by </span><span class="si">{</span><span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
               <span class="n">size</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s2">&quot;square&quot;</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s1">&#39;LightSkyBlue&#39;</span><span class="p">))</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="mf">0.02</span> <span class="o">*</span> <span class="n">Out</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">s</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Size: </span><span class="si">{</span><span class="n">Out</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> by </span><span class="si">{</span><span class="n">Out</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
               <span class="n">size</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s2">&quot;square&quot;</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s1">&#39;LightSkyBlue&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>rotation_center:
(320, 213)
Affine Transformation Matrix (M) = [[  0.90630779   0.42261826 -60.0361816 ]
 [ -0.42261826   0.90630779 155.19428512]]
</pre></div>
</div>
<img alt="../_images/6e00d5ec0ab54dd81bd80a88af28d6f6c296852722d45eaae9def3297c93572c.png" src="../_images/6e00d5ec0ab54dd81bd80a88af28d6f6c296852722d45eaae9def3297c93572c.png" />
</div>
</div>
<p>Based on the provided values of <span class="math notranslate nohighlight">\(\theta = 25\)</span> (in degrees) and <span class="math notranslate nohighlight">\(\text{scale} = 1\)</span>, the resulting 2D rotation matrix <span class="math notranslate nohighlight">\(M\)</span> can be calculated as follows:</p>
<div class="amsmath math notranslate nohighlight" id="equation-96482f3e-36bb-4030-a8d2-ab03511a2018">
<span class="eqno">()<a class="headerlink" href="#equation-96482f3e-36bb-4030-a8d2-ab03511a2018" title="Permalink to this equation">#</a></span>\[\begin{equation}
\begin{bmatrix}
\alpha &amp; \beta &amp; (1 - \alpha) \cdot \text{center.x} - \beta \cdot \text{center.y} \\
- \beta &amp; \alpha &amp; \beta \cdot \text{center.x} + (1 - \alpha) \cdot \text{center.y}
\end{bmatrix}
\end{equation}\]</div>
<p>Where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\alpha = \text{scale} \cdot \cos(\theta)\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\beta = \text{scale} \cdot \sin(\theta)\)</span></p></li>
</ul>
<p>Given that <span class="math notranslate nohighlight">\(\theta = 25\)</span> degrees and <span class="math notranslate nohighlight">\(\text{scale} = 1\)</span>, you can calculate <span class="math notranslate nohighlight">\(\alpha\)</span> and <span class="math notranslate nohighlight">\(\beta\)</span> as follows:</p>
<div class="amsmath math notranslate nohighlight" id="equation-c137076e-29da-4017-a164-f06ca749eb3d">
<span class="eqno">()<a class="headerlink" href="#equation-c137076e-29da-4017-a164-f06ca749eb3d" title="Permalink to this equation">#</a></span>\[\begin{equation}
\alpha = 1 \cdot \cos(25^\circ) \approx 0.90630779
\end{equation}\]</div>
<div class="amsmath math notranslate nohighlight" id="equation-ef616685-4ec2-4d95-a151-f525bf06f2d9">
<span class="eqno">()<a class="headerlink" href="#equation-ef616685-4ec2-4d95-a151-f525bf06f2d9" title="Permalink to this equation">#</a></span>\[\begin{equation}
\beta = 1 \cdot \sin(25^\circ) \approx 0.42261826
\end{equation}\]</div>
<p>Now, you can calculate the elements of the rotation matrix <span class="math notranslate nohighlight">\(M\)</span> using these values and the center point <span class="math notranslate nohighlight">\((320, 213)\)</span>:</p>
<div class="amsmath math notranslate nohighlight" id="equation-4378921b-9905-4dd6-883d-ec6367ba5906">
<span class="eqno">()<a class="headerlink" href="#equation-4378921b-9905-4dd6-883d-ec6367ba5906" title="Permalink to this equation">#</a></span>\[\begin{equation}
M = \begin{bmatrix}
0.90630779 &amp; 0.42261826 &amp; (1 - 0.90630779) \cdot 320 - 0.42261826 \cdot 213 \\
-0.42261826 &amp; 0.90630779 &amp; 0.42261826 \cdot 320 + (1 - 0.90630779) \cdot 213
\end{bmatrix}
\end{equation}\]</div>
<p>The resulting matrix <span class="math notranslate nohighlight">\(M\)</span> will be:</p>
<div class="amsmath math notranslate nohighlight" id="equation-d7851316-21ca-4718-b1d7-a49de6d3a986">
<span class="eqno">()<a class="headerlink" href="#equation-d7851316-21ca-4718-b1d7-a49de6d3a986" title="Permalink to this equation">#</a></span>\[\begin{equation}
M = \begin{bmatrix}
0.90630779 &amp; 0.42261826 &amp; -60.0361816 \\
-0.42261826 &amp; 0.90630779 &amp; 155.19428512
\end{bmatrix}
\end{equation}\]</div>
<p>This is the 2D rotation matrix <span class="math notranslate nohighlight">\(M\)</span> corresponding to a rotation angle of 25 degrees and a scale factor of 1.</p>
<hr class="docutils" />
<p>This code performs image rotation using OpenCV in Python. Here’s a step-by-step explanation:</p>
<ol class="arabic simple">
<li><p><strong>Importing Libraries</strong>: The code begins by importing the necessary libraries:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cv2</span></code>: OpenCV, a popular computer vision library.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">numpy</span></code> as <code class="docutils literal notranslate"><span class="pre">np</span></code>: NumPy, used for numerical operations.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot</span></code> as <code class="docutils literal notranslate"><span class="pre">plt</span></code>: Matplotlib, used for plotting.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">load_sample_image</span></code> from <code class="docutils literal notranslate"><span class="pre">sklearn.datasets</span></code>: This function is used to load a sample image from the scikit-learn dataset.</p></li>
</ul>
</li>
<li><p><strong>Loading an Image</strong>: The code loads a sample image named ‘flower.jpg’ using the <code class="docutils literal notranslate"><span class="pre">load_sample_image</span></code> function. It also determines the image’s dimensions (number of rows and columns) and stores them in the variables <code class="docutils literal notranslate"><span class="pre">rows</span></code> and <code class="docutils literal notranslate"><span class="pre">cols</span></code>.</p></li>
<li><p><strong>Defining Rotation Parameters</strong>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">angle</span></code>: Specifies the rotation angle, which is set to 25 degrees in this example.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">scale</span></code>: Defines the scale factor. A scale of 1.0 maintains the original size.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rotation_center</span></code>: Specifies the center of rotation as a tuple (x, y). In this case, it’s set to the center of the image.</p></li>
</ul>
</li>
<li><p><strong>Calculating the Rotation Matrix (<code class="docutils literal notranslate"><span class="pre">M</span></code>)</strong>: The code uses the <code class="docutils literal notranslate"><span class="pre">cv2.getRotationMatrix2D</span></code> function to compute the affine transformation matrix for rotation. It takes the <code class="docutils literal notranslate"><span class="pre">rotation_center</span></code>, <code class="docutils literal notranslate"><span class="pre">angle</span></code>, and <code class="docutils literal notranslate"><span class="pre">scale</span></code> as arguments and returns the transformation matrix <code class="docutils literal notranslate"><span class="pre">M</span></code>. The calculated matrix is printed.</p></li>
<li><p><strong>Applying the Rotation</strong>: The <code class="docutils literal notranslate"><span class="pre">cv2.warpAffine</span></code> function is used to apply the affine transformation to the image. It takes the input image <code class="docutils literal notranslate"><span class="pre">Img</span></code>, the transformation matrix <code class="docutils literal notranslate"><span class="pre">M</span></code>, and the output image dimensions <code class="docutils literal notranslate"><span class="pre">(cols,</span> <span class="pre">rows)</span></code> as arguments. The result is stored in the variable <code class="docutils literal notranslate"><span class="pre">Out</span></code>.</p></li>
<li><p><strong>Displaying the Images</strong>:</p>
<ul class="simple">
<li><p>The code uses Matplotlib to create a figure and two subplots for displaying the original and rotated images.</p></li>
<li><p>The original image (<code class="docutils literal notranslate"><span class="pre">Img</span></code>) and the rotated image (<code class="docutils literal notranslate"><span class="pre">Out</span></code>) are displayed side by side.</p></li>
<li><p>The titles ‘Original Image’ and ‘Rotated Image’ are added to the subplots.</p></li>
<li><p>Text is added below each image to indicate its size in the format ‘Size: height by width’.</p></li>
</ul>
</li>
</ol>
</div>
</div>
<div class="section" id="resizing-images-with-opencv">
<h2>Resizing Images with OpenCV<a class="headerlink" href="#resizing-images-with-opencv" title="Permalink to this headline">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">resize</span></code> function in OpenCV is a versatile tool for adjusting the size of images, whether making them smaller or larger. It offers several options for defining the output size or using scaling factors to control the resizing process, providing the flexibility needed for various image manipulation tasks <span id="id7">[<a class="reference internal" href="../References.html#id25" title="G. Bradski. The OpenCV Library. Dr. Dobb's Journal of Software Tools, 2000.">Bradski, 2000</a>, <a class="reference internal" href="../References.html#id26" title="OpenCV Developers. Opencv documentation. https://docs.opencv.org/4.x/index.html, 2023. [Online; accessed 01-August-2023].">OpenCV Developers, 2023</a>]</span>.</p>
<p><strong>Key Concepts:</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">resize</span></code> function is essential for handling image dimensions. Here’s a breakdown of its capabilities:</p>
<ol class="arabic">
<li><p><strong>Resizing an Image:</strong>
The primary purpose of <code class="docutils literal notranslate"><span class="pre">resize</span></code> is to change the size of an image. This can involve reducing or increasing the image’s dimensions. The function allows explicit size specification or resizing based on scaling factors (<code class="docutils literal notranslate"><span class="pre">fx</span></code> and <code class="docutils literal notranslate"><span class="pre">fy</span></code>). Importantly, the initial type or size of the output image (<code class="docutils literal notranslate"><span class="pre">dst</span></code>) is not used. Instead, it’s determined based on the source image (<code class="docutils literal notranslate"><span class="pre">src</span></code>), the desired output size (<code class="docutils literal notranslate"><span class="pre">dsize</span></code>), and the specified scaling factors.</p></li>
<li><p><strong>Explicit Output Size:</strong>
If you want to resize <code class="docutils literal notranslate"><span class="pre">src</span></code> to fit a pre-created destination image <code class="docutils literal notranslate"><span class="pre">dst</span></code>, you can achieve this by calling the function as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">resize</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">dst</span><span class="o">.</span><span class="n">size</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">interpolation</span><span class="p">)</span>
</pre></div>
</div>
<p>Here, <code class="docutils literal notranslate"><span class="pre">dsize</span></code> is set to match the size of <code class="docutils literal notranslate"><span class="pre">dst</span></code>, and the scaling factors <code class="docutils literal notranslate"><span class="pre">fx</span></code> and <code class="docutils literal notranslate"><span class="pre">fy</span></code> are automatically computed based on that.</p>
</li>
<li><p><strong>Using Scaling Factors:</strong>
You can also use scaling factors to control the resizing process. For instance, to decrease the size of the image by a factor of 2 in both the horizontal and vertical directions (decimation), you can use the following approach:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">resize</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">Size</span><span class="p">(),</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">interpolation</span><span class="p">)</span>
</pre></div>
</div>
<p>Here, <code class="docutils literal notranslate"><span class="pre">fx</span></code> and <code class="docutils literal notranslate"><span class="pre">fy</span></code> are explicitly specified, and the function calculates the destination image size based on these factors.</p>
</li>
<li><p><strong>Selecting Interpolation:</strong>
When shrinking an image, the <code class="docutils literal notranslate"><span class="pre">INTER_AREA</span></code> interpolation method is recommended for the best results in terms of image quality. On the other hand, when enlarging an image, using <code class="docutils literal notranslate"><span class="pre">INTER_CUBIC</span></code> (higher quality, but slower) or <code class="docutils literal notranslate"><span class="pre">INTER_LINEAR</span></code> (faster but still acceptable quality) interpolation methods is generally recommended.</p></li>
</ol>
<p><strong>Function Parameters:</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">src</span></code>: The input image to be resized.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dst</span></code>: The output image. Its size can be explicitly set using <code class="docutils literal notranslate"><span class="pre">dsize</span></code>, or it can be determined automatically based on <code class="docutils literal notranslate"><span class="pre">src.size()</span></code>, <code class="docutils literal notranslate"><span class="pre">fx</span></code>, and <code class="docutils literal notranslate"><span class="pre">fy</span></code>. The type of <code class="docutils literal notranslate"><span class="pre">dst</span></code> matches the type of <code class="docutils literal notranslate"><span class="pre">src</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dsize</span></code>: The desired output image size. If set to zero (None in Python), the function calculates it as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dsize</span> <span class="o">=</span> <span class="n">Size</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">fx</span> <span class="o">*</span> <span class="n">src</span><span class="o">.</span><span class="n">cols</span><span class="p">),</span> <span class="nb">round</span><span class="p">(</span><span class="n">fy</span> <span class="o">*</span> <span class="n">src</span><span class="o">.</span><span class="n">rows</span><span class="p">))</span>
</pre></div>
</div>
<p>Either <code class="docutils literal notranslate"><span class="pre">dsize</span></code> or both <code class="docutils literal notranslate"><span class="pre">fx</span></code> and <code class="docutils literal notranslate"><span class="pre">fy</span></code> must be non-zero.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">fx</span></code>: The scaling factor along the horizontal axis (width). If <code class="docutils literal notranslate"><span class="pre">fx</span></code> is 0, it’s computed as <code class="docutils literal notranslate"><span class="pre">(double)dsize.width</span> <span class="pre">/</span> <span class="pre">src.cols</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fy</span></code>: The scaling factor along the vertical axis (height). If <code class="docutils literal notranslate"><span class="pre">fy</span></code> is 0, it’s computed as <code class="docutils literal notranslate"><span class="pre">(double)dsize.height</span> <span class="pre">/</span> <span class="pre">src.rows</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">interpolation</span></code>: The interpolation method used during the resizing operation (e.g., <code class="docutils literal notranslate"><span class="pre">INTER_NEAREST</span></code>, <code class="docutils literal notranslate"><span class="pre">INTER_LINEAR</span></code>, <code class="docutils literal notranslate"><span class="pre">INTER_CUBIC</span></code>, <code class="docutils literal notranslate"><span class="pre">INTER_LANCZOS4</span></code>).</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">resize</span></code> function allows you to resize images while maintaining control over the output size and selecting appropriate interpolation methods to achieve the desired quality.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cv2</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">dsize</span><span class="p">[,</span> <span class="n">dst</span><span class="p">[,</span> <span class="n">fx</span><span class="p">[,</span> <span class="n">fy</span><span class="p">[,</span> <span class="n">interpolation</span><span class="p">]]]])</span> <span class="o">-&gt;</span> <span class="n">dst</span>
</pre></div>
</div>
<p>Here’s what each parameter does:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">src</span></code>: The input image that you want to resize. It should be a NumPy array (image) in most cases.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dsize</span></code>: The desired size (width and height) of the output image. It’s specified as a tuple (width, height). If you provide this parameter, the <code class="docutils literal notranslate"><span class="pre">fx</span></code> and <code class="docutils literal notranslate"><span class="pre">fy</span></code> parameters (scaling factors) are ignored.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dst</span></code> (optional): The output image where the resized image will be stored. If not provided, a new image will be created to store the result.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fx</span></code> (optional): The scale factor along the horizontal axis (width) by which you want to resize the image. If you provide <code class="docutils literal notranslate"><span class="pre">fx</span></code>, the <code class="docutils literal notranslate"><span class="pre">dsize</span></code> parameter is ignored on that axis.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fy</span></code> (optional): The scale factor along the vertical axis (height) by which you want to resize the image. If you provide <code class="docutils literal notranslate"><span class="pre">fy</span></code>, the <code class="docutils literal notranslate"><span class="pre">dsize</span></code> parameter is ignored on that axis.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">interpolation</span></code> (optional): The interpolation method to be used during the resizing operation. Interpolation determines how pixel values are computed for the output image based on the input image. Common <a class="reference external" href="https://en.wikipedia.org/wiki/Bicubic_interpolation">interpolation</a> methods include:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cv2.INTER_NEAREST</span></code>: Nearest-neighbor interpolation (fast but may produce blocky results).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cv2.INTER_LINEAR</span></code>: Bilinear interpolation (good for most general-purpose resizing).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cv2.INTER_CUBIC</span></code>: Bicubic interpolation (better quality, but slower).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cv2.INTER_LANCZOS4</span></code>: Lanczos interpolation (high-quality but slower).</p></li>
</ul>
</li>
</ol>
<p>The <code class="docutils literal notranslate"><span class="pre">cv2.resize()</span></code> function resizes the input image based on the specified size or scaling factors and the chosen interpolation method. The function returns the resized image, and if you provided the <code class="docutils literal notranslate"><span class="pre">dst</span></code> parameter, the resized image is stored in the <code class="docutils literal notranslate"><span class="pre">dst</span></code> array; otherwise, a new image is created and returned. The <code class="docutils literal notranslate"><span class="pre">dst</span></code> parameter allows you to reuse an existing image array for efficiency.</p>
<p><font color='Blue'><b>Example:</b></font> In this example, we’ll explore an image processing task that involves resizing an image using cubic interpolation. Cubic interpolation is a method for resizing images while maintaining smooth transitions between pixels. We’ll load a sample image, apply the resizing operation, and visualize both the original and resized images. Additionally, we’ll add text annotations to display the sizes of the original and resized images for reference.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load the sample image &#39;china.jpg&#39;</span>
<span class="n">Img</span> <span class="o">=</span> <span class="n">load_sample_image</span><span class="p">(</span><span class="s1">&#39;china.jpg&#39;</span><span class="p">)</span>
                        
<span class="c1"># Resize the original image using cubic interpolation</span>
<span class="n">Out</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">Img</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">fx</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">fy</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="n">cv2</span><span class="o">.</span><span class="n">INTER_CUBIC</span><span class="p">)</span>

<span class="c1"># Display the original and resized images with titles</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">ImShow</span><span class="p">([</span><span class="n">Img</span><span class="p">,</span> <span class="n">Out</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;Original Image&#39;</span><span class="p">,</span> <span class="s1">&#39;Resized Image&#39;</span><span class="p">],</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Image Resize&#39;</span><span class="p">)</span>

<span class="c1"># Add text indicating the size of the original and resized images</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="mf">0.02</span> <span class="o">*</span> <span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">s</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Size: </span><span class="si">{</span><span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> by </span><span class="si">{</span><span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
               <span class="n">size</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s2">&quot;square&quot;</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s1">&#39;LightSkyBlue&#39;</span><span class="p">))</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="mf">0.02</span> <span class="o">*</span> <span class="n">Out</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">s</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Size: </span><span class="si">{</span><span class="n">Out</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> by </span><span class="si">{</span><span class="n">Out</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
               <span class="n">size</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s2">&quot;square&quot;</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s1">&#39;LightSkyBlue&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/f1ea65fc3f3f63461b81772922f9c93a21dd39888d6bb9351c51ae09bf2b97fc.png" src="../_images/f1ea65fc3f3f63461b81772922f9c93a21dd39888d6bb9351c51ae09bf2b97fc.png" />
</div>
</div>
<p>This code demonstrates how to load an image, resize it using cubic interpolation, and then display both the original and resized images with their sizes indicated in the plots. Here’s a breakdown of the code:</p>
<ol class="arabic simple">
<li><p><strong>Load the Sample Image</strong>: This line loads a sample image named ‘china.jpg’ using the <code class="docutils literal notranslate"><span class="pre">load_sample_image</span></code> function.</p></li>
<li><p><strong>Resize the Image</strong>: The next line resizes the original image (<code class="docutils literal notranslate"><span class="pre">Img</span></code>) using cubic interpolation. It doubles the size of the image both horizontally (<code class="docutils literal notranslate"><span class="pre">fx=2</span></code>) and vertically (<code class="docutils literal notranslate"><span class="pre">fy=2</span></code>) and specifies cubic interpolation as the method (<code class="docutils literal notranslate"><span class="pre">interpolation=cv2.INTER_CUBIC</span></code>). The result is stored in the <code class="docutils literal notranslate"><span class="pre">Out</span></code> variable.</p></li>
<li><p><strong>Display Original and Resized Images</strong>: This code segment uses a function called <code class="docutils literal notranslate"><span class="pre">ImShow</span></code> to display the original and resized images side by side. The original image is labeled as ‘Original Image’, and the resized image is labeled as ‘Resized Image’. The title of this plot is set to ‘Image Resize’.</p></li>
<li><p><strong>Add Text Indicating Image Sizes</strong>: The next two lines add text to the images. It displays the sizes of the original and resized images. These lines use f-strings to format the text dynamically based on the dimensions of the images.</p>
<ul class="simple">
<li><p>For the original image (<code class="docutils literal notranslate"><span class="pre">ax[0]</span></code>), it calculates the text position based on 2% of the image’s height (<code class="docutils literal notranslate"><span class="pre">int(0.02</span> <span class="pre">*</span> <span class="pre">Img.shape[1])</span></code>). The size, color, and appearance of the text are specified as well.</p></li>
<li><p>Similarly, for the resized image (<code class="docutils literal notranslate"><span class="pre">ax[1]</span></code>), it calculates the text position based on 2% of the resized image’s height (<code class="docutils literal notranslate"><span class="pre">int(0.02</span> <span class="pre">*</span> <span class="pre">Out.shape[1])</span></code>).</p></li>
</ul>
</li>
</ol>
</div>
<div class="section" id="warp-perspective-optional-content">
<h2>Warp Perspective (Optional Content)<a class="headerlink" href="#warp-perspective-optional-content" title="Permalink to this headline">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">cv2.warpPerspective()</span></code> function in the Python OpenCV library is a powerful tool used for performing perspective transformations on an input image. These transformations allow you to change the perspective view of an object within an image, simulating effects like changing the viewpoint or correcting for distortions caused by the camera’s perspective. The primary purpose of this function is to apply a given 3x3 transformation matrix to the input image, resulting in a transformed output image <span id="id8">[<a class="reference internal" href="../References.html#id25" title="G. Bradski. The OpenCV Library. Dr. Dobb's Journal of Software Tools, 2000.">Bradski, 2000</a>, <a class="reference internal" href="../References.html#id26" title="OpenCV Developers. Opencv documentation. https://docs.opencv.org/4.x/index.html, 2023. [Online; accessed 01-August-2023].">OpenCV Developers, 2023</a>]</span>.</p>
<p><strong>Perspective Transformation</strong></p>
<p>Perspective transformations are essential for various computer vision tasks, including image rectification, object recognition, and more. They involve manipulating the positions of points in an image, effectively warping the image based on a specified transformation matrix. This matrix, denoted as <code class="docutils literal notranslate"><span class="pre">M</span></code>,</p>
<div class="amsmath math notranslate nohighlight" id="equation-e562ff65-6586-45dd-8927-95bcacc2a84a">
<span class="eqno">()<a class="headerlink" href="#equation-e562ff65-6586-45dd-8927-95bcacc2a84a" title="Permalink to this equation">#</a></span>\[\begin{equation}
M = \begin{bmatrix} M_{11} &amp; M_{12} &amp; M_{13} \\M_{21} &amp; M_{22} &amp; M_{23}  \\M_{31} &amp; M_{32} &amp; M_{33} \end{bmatrix}
\end{equation}\]</div>
<p>describes how the points in the source image (<code class="docutils literal notranslate"><span class="pre">src</span></code>) should be transformed to obtain their corresponding positions in the destination image (<code class="docutils literal notranslate"><span class="pre">dst</span></code>).</p>
<p>The transformation is defined by the following equation:</p>
<div class="amsmath math notranslate nohighlight" id="equation-e6951c2f-6149-4784-8515-27c264c64e15">
<span class="eqno">()<a class="headerlink" href="#equation-e6951c2f-6149-4784-8515-27c264c64e15" title="Permalink to this equation">#</a></span>\[\begin{equation}
\texttt{dst} (x,y) = \texttt{src} \left ( \frac{M_{11} x + M_{12} y + M_{13}}{M_{31} x + M_{32} y + M_{33}} , \frac{M_{21} x + M_{22} y + M_{23}}{M_{31} x + M_{32} y + M_{33}} \right )
\end{equation}\]</div>
<p>When the flag <code class="docutils literal notranslate"><span class="pre">WARP_INVERSE_MAP</span></code> is set, the function uses the inverse of the transformation matrix for the calculation. Otherwise, the transformation is inverted using the <code class="docutils literal notranslate"><span class="pre">invert</span></code> function before being applied. The function does not operate in-place; it generates a new transformed image as the output.</p>
<p><strong>Parameters</strong></p>
<p>Here’s a detailed explanation of the parameters used in the <code class="docutils literal notranslate"><span class="pre">cv2.warpPerspective()</span></code> function:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">src</span></code>: This parameter represents the input image you want to transform using the perspective transformation. It should be a numpy array, representing the image you wish to warp.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">M</span></code>: The <code class="docutils literal notranslate"><span class="pre">M</span></code> parameter is a 3x3 transformation matrix that defines the perspective transformation. This matrix describes how the points in the source image (<code class="docutils literal notranslate"><span class="pre">src</span></code>) should be transformed to obtain the corresponding points in the destination image (<code class="docutils literal notranslate"><span class="pre">dst</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dsize</span></code>: The <code class="docutils literal notranslate"><span class="pre">dsize</span></code> parameter specifies the size of the output image (<code class="docutils literal notranslate"><span class="pre">dst</span></code>). It is a tuple containing the width and height of the destination image. The transformed input image (<code class="docutils literal notranslate"><span class="pre">src</span></code>) will be resized to this size.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dst</span></code> (optional): The <code class="docutils literal notranslate"><span class="pre">dst</span></code> parameter serves as the output image where the result of the perspective transformation will be stored. If this parameter is not provided, a new image will be created to hold the transformed result.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">flags</span></code> (optional): The <code class="docutils literal notranslate"><span class="pre">flags</span></code> parameter provides additional transformation options. It can be a combination of transformation flags, but it is often set to <code class="docutils literal notranslate"><span class="pre">cv2.INTER_LINEAR</span></code> for bilinear interpolation, which provides a good trade-off between speed and quality.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">borderMode</span></code> (optional): The <code class="docutils literal notranslate"><span class="pre">borderMode</span></code> parameter specifies how the border of the output image (<code class="docutils literal notranslate"><span class="pre">dst</span></code>) should be filled. It can be set to different border modes, such as <code class="docutils literal notranslate"><span class="pre">cv2.BORDER_CONSTANT</span></code> or <code class="docutils literal notranslate"><span class="pre">cv2.BORDER_REPLICATE</span></code>, depending on the desired behavior.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">borderValue</span></code> (optional): The <code class="docutils literal notranslate"><span class="pre">borderValue</span></code> parameter is used to specify the value used for padding if the <code class="docutils literal notranslate"><span class="pre">borderMode</span></code> is set to <code class="docutils literal notranslate"><span class="pre">cv2.BORDER_CONSTANT</span></code>.</p></li>
</ul>
<p><strong>Function Signature</strong></p>
<p>Here’s the structure of the function signature:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cv2</span><span class="o">.</span><span class="n">warpPerspective</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="n">dsize</span><span class="p">[,</span> <span class="n">dst</span><span class="p">[,</span> <span class="n">flags</span><span class="p">[,</span> <span class="n">borderMode</span><span class="p">[,</span> <span class="n">borderValue</span><span class="p">]]]])</span> <span class="o">-&gt;</span> <span class="n">dst</span>
</pre></div>
</div>
<p><strong>Usage and Importance</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">cv2.warpPerspective()</span></code> function is a fundamental component in many image processing pipelines. It enables handling perspective effects, correcting image distortions, and preparing images for further analysis or visualization. By understanding and utilizing perspective transformations, you can significantly enhance the capabilities of your computer vision applications.</p>
<p>For more detailed information and examples of using <code class="docutils literal notranslate"><span class="pre">warpPerspective</span></code>, you can refer to the <a class="reference external" href="https://docs.opencv.org/2.4/modules/imgproc/doc/geometric_transformations.html#cv2.warpPerspective">OpenCV documentation</a> and the <a class="reference external" href="https://docs.opencv.org/3.4/da/d54/group__imgproc__transform.html#gaf73673a7e8e18ec6963e3774e6a94b87">function description</a>. This function is essential for tasks that require precise geometric adjustments in images, making it a valuable tool in various computer vision scenarios.</p>
<p><font color='Blue'><b>Example</b></font>: In this example, we explore perspective transformation, a crucial concept in image processing. We define source and destination points to describe how we want to alter the image’s perspective. Using these points, we calculate a transformation matrix (M). Then, we apply this matrix to the input image, transforming its perspective. We visualize both the original and transformed images, including annotations for size reference and marked points to show the transformation’s effect.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">cv2</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># Define the source and destination points for perspective transformation</span>
<span class="n">src_pts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">([[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span> <span class="p">[</span><span class="mi">350</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">380</span><span class="p">],</span> <span class="p">[</span><span class="mi">380</span><span class="p">,</span> <span class="mi">400</span><span class="p">]])</span>  <span class="c1"># Source points</span>
<span class="n">dst_pts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">400</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">400</span><span class="p">],</span> <span class="p">[</span><span class="mi">400</span><span class="p">,</span> <span class="mi">400</span><span class="p">]])</span>  <span class="c1"># Destination points</span>

<span class="c1"># Calculate the perspective transformation matrix</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">getPerspectiveTransform</span><span class="p">(</span><span class="n">src_pts</span><span class="p">,</span> <span class="n">dst_pts</span><span class="p">)</span>

<span class="c1"># Apply the perspective transformation to the input image</span>
<span class="n">Out</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">warpPerspective</span><span class="p">(</span><span class="n">Img</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="n">dsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">400</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;M =&#39;</span><span class="p">,</span> <span class="n">M</span><span class="p">)</span>

<span class="c1"># Display the original and transformed images with titles</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">ImShow</span><span class="p">([</span><span class="n">Img</span><span class="p">,</span> <span class="n">Out</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;Original Image&#39;</span><span class="p">,</span> <span class="s1">&#39;Warped Image&#39;</span><span class="p">],</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Warp Perspective&#39;</span><span class="p">)</span>

<span class="c1"># Add text to indicate the size of the original and transformed images</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="mf">0.02</span> <span class="o">*</span> <span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">s</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Size: </span><span class="si">{</span><span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> by </span><span class="si">{</span><span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
               <span class="n">size</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s2">&quot;square&quot;</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s1">&#39;LightSkyBlue&#39;</span><span class="p">))</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="mf">0.6</span> <span class="o">*</span> <span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">y</span><span class="o">=</span><span class="n">Out</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Size: </span><span class="si">{</span><span class="n">Out</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> by </span><span class="si">{</span><span class="n">Out</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
               <span class="n">size</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s2">&quot;square&quot;</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s1">&#39;LightSkyBlue&#39;</span><span class="p">))</span>

<span class="c1"># Mark the source and destination points on the images</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">src_pts</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">src_pts</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>  <span class="c1"># Mark source points on the original image</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">dst_pts</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">dst_pts</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>  <span class="c1"># Mark destination points on the transformed image</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>M = [[ 1.52835807e+00  1.43283569e-01 -8.50149178e+01]
 [ 5.25237016e-02  1.57571105e+00 -9.71688479e+01]
 [ 3.13555899e-04  6.58838004e-04  1.00000000e+00]]
</pre></div>
</div>
<img alt="../_images/b079d3729b7c4349449502bf92fcd97a23cb180ef729a9a56f9e8509389077a9.png" src="../_images/b079d3729b7c4349449502bf92fcd97a23cb180ef729a9a56f9e8509389077a9.png" />
</div>
</div>
<p>This code performs a perspective transformation on an input image using OpenCV. Let’s break down the code step by step:</p>
<ol class="arabic simple">
<li><p><strong>Import Libraries</strong>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">numpy</span></code> is imported as <code class="docutils literal notranslate"><span class="pre">np</span></code> for numerical operations.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cv2</span></code> is imported for computer vision functions.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot</span></code> is imported as <code class="docutils literal notranslate"><span class="pre">plt</span></code> for image visualization.</p></li>
</ul>
</li>
<li><p><strong>Define Source and Destination Points</strong>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">src_pts</span></code> is a numpy array representing the source points for the perspective transformation. These are the coordinates of four points in the original image that define a region of interest.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dst_pts</span></code> is a numpy array representing the destination points for the perspective transformation. These are the coordinates to which the source points will be mapped, defining how the region of interest should be transformed.</p></li>
</ul>
</li>
<li><p><strong>Calculate Perspective Transformation Matrix (<code class="docutils literal notranslate"><span class="pre">M</span></code>)</strong>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cv2.getPerspectiveTransform(src_pts,</span> <span class="pre">dst_pts)</span></code> calculates the perspective transformation matrix <code class="docutils literal notranslate"><span class="pre">M</span></code> based on the source and destination points. This matrix describes the transformation that maps the source points to the destination points.</p></li>
</ul>
</li>
<li><p><strong>Apply Perspective Transformation</strong>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cv2.warpPerspective(Img,</span> <span class="pre">M,</span> <span class="pre">(400,</span> <span class="pre">400))</span></code> applies the perspective transformation to the input image <code class="docutils literal notranslate"><span class="pre">Img</span></code>. The transformed image is stored in the variable <code class="docutils literal notranslate"><span class="pre">Out</span></code>. The <code class="docutils literal notranslate"><span class="pre">(400,</span> <span class="pre">400)</span></code> argument specifies the size of the output image.</p></li>
</ul>
</li>
<li><p><strong>Display Original and Transformed Images</strong>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ImShow</span></code> (not defined in the provided code) is used to display the original and transformed images side by side. It also sets titles for the images.</p></li>
</ul>
</li>
<li><p><strong>Add Text Indicating Image Sizes</strong>:</p>
<ul class="simple">
<li><p>Text annotations are added to the images using <code class="docutils literal notranslate"><span class="pre">ax.text</span></code>. These annotations display the size of the original and transformed images. The size information is obtained from the shape of the respective images.</p></li>
</ul>
</li>
<li><p><strong>Mark Source and Destination Points</strong>:</p>
<ul class="simple">
<li><p>Source points are marked on the original image using <code class="docutils literal notranslate"><span class="pre">ax[0].scatter</span></code>. They are visualized as red points.</p></li>
<li><p>Destination points are marked on the transformed image using <code class="docutils literal notranslate"><span class="pre">ax[1].scatter</span></code>. They are also visualized as red points.</p></li>
</ul>
</li>
</ol>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./chapter_08"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sample-images">Sample Images</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#affine-transformations">Affine Transformations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-to-derive-an-affine-transformation">How to Derive an Affine Transformation?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#getaffinetransform">getAffineTransform</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#image-wrap">Image Wrap</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#getrotationmatrix2d">getRotationMatrix2D</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#resizing-images-with-opencv">Resizing Images with OpenCV</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#warp-perspective-optional-content">Warp Perspective (Optional Content)</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Hatef Dastour
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>