

<!DOCTYPE html>


<html >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>6. Image Filtering &#8212; Computer Vision</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Image_Filtering';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="7. Morphological Transformations" href="Morphological_Transformations.html" />
    <link rel="prev" title="5. Image Thresholding" href="Image_Thresholding.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="None"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="Getting_Started.html">
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="Getting_Started.html">
                    Getting Started with Python
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Getting_Started_with_Open_CV.html">1. Getting Started with Open CV</a></li>

<li class="toctree-l1"><a class="reference internal" href="Geometric_Image_Transformations.html">3. Geometric Transformations</a></li>
<li class="toctree-l1"><a class="reference internal" href="Drawing_Functions.html">4. Drawing Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Image_Thresholding.html">5. Image Thresholding</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">6. Image Filtering</a></li>
<li class="toctree-l1"><a class="reference internal" href="Morphological_Transformations.html">7. Morphological Transformations</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://hatefdastour.github.io/notes/Numerical_Analysis/issues/new?title=Issue%20on%20page%20%2FImage_Filtering.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button"
   title="Open an issue"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Image_Filtering.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Image Filtering</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#smoothing-images">6.1. Smoothing Images</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#d-convolution-image-filtering">6.1.1. 2D Convolution (Image Filtering)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#image-blurring-image-smoothing">6.2. Image Blurring (Image Smoothing)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#blur">6.2.1. Blur</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#box-filter">6.2.2. Box Filter</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gaussian-blur">6.2.3. Gaussian Blur</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#median-blur">6.2.4. Median Blur</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bilateral-filtering">6.2.5. Bilateral Filtering</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#refrences">6.3. Refrences</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <div class="tex2jax_ignore mathjax_ignore section" id="image-filtering">
<h1><span class="section-number">6. </span>Image Filtering<a class="headerlink" href="#image-filtering" title="Permalink to this headline">#</a></h1>
<div class="section" id="smoothing-images">
<h2><span class="section-number">6.1. </span>Smoothing Images<a class="headerlink" href="#smoothing-images" title="Permalink to this headline">#</a></h2>
<div class="section" id="d-convolution-image-filtering">
<h3><span class="section-number">6.1.1. </span>2D Convolution (Image Filtering)<a class="headerlink" href="#d-convolution-image-filtering" title="Permalink to this headline">#</a></h3>
<p>Low-pass filters (LPF) and high-pass filters (HPF) are commonly used in signal and image processing for denoising and edge detection, respectively.</p>
<p>A low-pass filter helps in reducing noise by attenuating high-frequency components in a signal or image, while allowing low-frequency components to pass through. In the context of image denoising, a LPF blurs the image, smoothing out rapid changes in pixel values and reducing the impact of noise. By removing high-frequency noise, the image appears smoother and less noisy.</p>
<p>On the other hand, a high-pass filter emphasizes the high-frequency components of a signal or image while attenuating the low-frequency components. In image processing, a HPF can be useful for detecting and enhancing edges. It achieves this by amplifying the intensity variations or sharp transitions in pixel values, which correspond to the edges or boundaries between objects or regions in an image. By suppressing the low-frequency information, a HPF enhances the image’s edges, making them more prominent and easier to detect.</p>
<p>In OpenCV, <a class="reference external" href="https://docs.opencv.org/2.4/modules/imgproc/doc/filtering.html?highlight=cv2.filter2d#filter2d">filter2D</a> is a filtering function that replies on convolving a kernel with an image.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span>cv2.filter2D(src, ddepth, kernel[, dst[, anchor[, delta[, borderType]]]]) → dst
</pre></div>
</div>
<p>Parameters:</p>
<ul class="simple">
<li><p>src – input image.</p></li>
<li><p>dst – output image of the same size and the same number of channels as src.</p></li>
<li><p>ddepth – desired depth of the destination image; if it is negative, it will be the same as src.depth(); the following combinations of src.depth() and ddepth are supported:</p>
<ul>
<li><p>src.depth() = CV_8U, ddepth = -1/CV_16S/CV_32F/CV_64F</p></li>
<li><p>src.depth() = CV_16U/CV_16S, ddepth = -1/CV_32F/CV_64F</p></li>
<li><p>src.depth() = CV_32F, ddepth = -1/CV_32F/CV_64F</p></li>
<li><p>src.depth() = CV_64F, ddepth = -1/CV_64F
when ddepth=-1, the output image will have the same depth as the source.</p></li>
</ul>
</li>
<li><p>kernel – convolution kernel (or rather a correlation kernel), a single-channel floating point matrix; if you want to apply different kernels to different channels, split the image into separate color planes using split() and process them individually.</p></li>
<li><p>anchor – anchor of the kernel that indicates the relative position of a filtered point within the kernel; the anchor should lie within the kernel; default value (-1,-1) means that the anchor is at the kernel center.</p></li>
<li><p>delta – optional value added to the filtered pixels before storing them in dst.</p></li>
<li><p>borderType – pixel extrapolation method (see borderInterpolate() for details).</p></li>
</ul>
<p>To demonstrate this, we can consider the following example.</p>
<p><font color='Blue'><b>Example</b></font>:</p>
<p>We use the sklearn <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.datasets.load_sample_images.html#sklearn.datasets.load_sample_images">image dataset</a> to demonstrate basic operations using Open CV.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_sample_image</span><span class="p">,</span> <span class="n">load_sample_images</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">matplotlib.font_manager</span> <span class="kn">import</span> <span class="n">FontProperties</span>

<span class="n">Images</span> <span class="o">=</span> <span class="n">load_sample_images</span><span class="p">()</span>
<span class="n">Names</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.jpg&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">title</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">Images</span><span class="p">[</span><span class="s1">&#39;filenames&#39;</span><span class="p">]]</span>
<span class="n">Images</span> <span class="o">=</span> <span class="n">Images</span><span class="p">[</span><span class="s1">&#39;images&#39;</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">ImShow</span><span class="p">(</span><span class="n">Images</span><span class="p">,</span> <span class="n">Names</span><span class="p">,</span> <span class="n">Title</span> <span class="o">=</span> <span class="s1">&#39;Images&#39;</span><span class="p">,</span> <span class="n">axis_tight</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">,</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
    <span class="n">font</span> <span class="o">=</span> <span class="n">FontProperties</span><span class="p">()</span>
    <span class="n">font</span><span class="o">.</span><span class="n">set_weight</span><span class="p">(</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
        <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Images</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">axis_tight</span><span class="p">:</span>
            <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
        <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
        <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">Names</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">16</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span> <span class="mf">0.01</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">Title</span><span class="p">:</span>
        <span class="n">_</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="n">Title</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">18</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span>
<span class="c1"># Image Show</span>
<span class="n">_</span><span class="p">,</span><span class="n">_</span> <span class="o">=</span> <span class="n">ImShow</span><span class="p">(</span><span class="n">Images</span><span class="p">,</span> <span class="n">Names</span><span class="p">,</span> <span class="n">Title</span> <span class="o">=</span> <span class="s1">&#39;Original Images&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/118f0d6d3693a969594a6ef3ac81b1ba88f0850327b357c3f58969b4d8b628e7.png" src="_images/118f0d6d3693a969594a6ef3ac81b1ba88f0850327b357c3f58969b4d8b628e7.png" />
</div>
</div>
<p>Let’s break down the code step by step:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">sklearn.datasets</span> <span class="pre">import</span> <span class="pre">load_sample_image,</span> <span class="pre">load_sample_images</span></code>: This line imports the <code class="docutils literal notranslate"><span class="pre">load_sample_image</span></code> and <code class="docutils literal notranslate"><span class="pre">load_sample_images</span></code> functions from the <code class="docutils literal notranslate"><span class="pre">sklearn.datasets</span></code> module. These functions are used to load sample images for demonstration purposes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">matplotlib.pyplot</span> <span class="pre">as</span> <span class="pre">plt</span></code>: This line imports the <code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot</span></code> module, a popular plotting library in Python.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">matplotlib.font_manager</span> <span class="pre">import</span> <span class="pre">FontProperties</span></code>: This line imports the <code class="docutils literal notranslate"><span class="pre">FontProperties</span></code> class from the <code class="docutils literal notranslate"><span class="pre">matplotlib.font_manager</span></code> module. It is used to modify the font properties of the text in the plot.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Images</span> <span class="pre">=</span> <span class="pre">load_sample_images()</span></code>: This line calls the <code class="docutils literal notranslate"><span class="pre">load_sample_images</span></code> function to load the sample images. The returned object contains the images and their corresponding filenames.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Names</span> <span class="pre">=</span> <span class="pre">[x.split(&quot;\\&quot;)[-1].replace('.jpg','').title()</span> <span class="pre">for</span> <span class="pre">x</span> <span class="pre">in</span> <span class="pre">Images['filenames']]</span></code>: This line extracts the filenames from the loaded sample images and processes them to remove the file extension (<code class="docutils literal notranslate"><span class="pre">.jpg</span></code>) and convert them to title case. The resulting list of names is stored in the <code class="docutils literal notranslate"><span class="pre">Names</span></code> variable.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Images</span> <span class="pre">=</span> <span class="pre">Images['images']</span></code>: This line extracts the actual image data from the loaded sample images and assigns it to the <code class="docutils literal notranslate"><span class="pre">Images</span></code> variable.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">ImShow(Images,</span> <span class="pre">Names,</span> <span class="pre">Title='Images',</span> <span class="pre">axis_tight=False):</span></code>: This line defines a function named <code class="docutils literal notranslate"><span class="pre">ImShow</span></code> that takes <code class="docutils literal notranslate"><span class="pre">Images</span></code>, <code class="docutils literal notranslate"><span class="pre">Names</span></code>, <code class="docutils literal notranslate"><span class="pre">Title</span></code>, and <code class="docutils literal notranslate"><span class="pre">axis_tight</span></code> as input parameters. This function is used to display and visualize the images.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fig,</span> <span class="pre">ax</span> <span class="pre">=</span> <span class="pre">plt.subplots(1,</span> <span class="pre">2,</span> <span class="pre">figsize=(17,</span> <span class="pre">6))</span></code>: This line creates a figure (<code class="docutils literal notranslate"><span class="pre">fig</span></code>) and a set of subplots (<code class="docutils literal notranslate"><span class="pre">ax</span></code>) using the <code class="docutils literal notranslate"><span class="pre">plt.subplots</span></code> function. It specifies that there will be 1 row and 2 columns of subplots, resulting in two subplots side by side. The <code class="docutils literal notranslate"><span class="pre">figsize</span></code> parameter sets the size of the figure.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ax</span> <span class="pre">=</span> <span class="pre">ax.ravel()</span></code>: This line flattens the <code class="docutils literal notranslate"><span class="pre">ax</span></code> array, converting it into a 1-dimensional array. This is done to make it easier to access and manipulate the subplots individually.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">font</span> <span class="pre">=</span> <span class="pre">FontProperties()</span></code>: This line creates a <code class="docutils literal notranslate"><span class="pre">FontProperties</span></code> object, which is used to modify the font properties of the text in the plot.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">font.set_weight('bold')</span></code>: This line sets the font weight of the text to bold.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">i</span> <span class="pre">in</span> <span class="pre">range(2):</span></code>: This line starts a loop that iterates twice, as there are two subplots.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_=</span> <span class="pre">ax[i].imshow(Images[i])</span></code>: This line displays the image <code class="docutils literal notranslate"><span class="pre">Images[i]</span></code> on the <code class="docutils literal notranslate"><span class="pre">i</span></code>-th subplot using the <code class="docutils literal notranslate"><span class="pre">imshow</span></code> function. The <code class="docutils literal notranslate"><span class="pre">_</span></code> is used to ignore the return value of the <code class="docutils literal notranslate"><span class="pre">imshow</span></code> function.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">axis_tight:</span></code>: This line checks if the <code class="docutils literal notranslate"><span class="pre">axis_tight</span></code> parameter is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_=</span> <span class="pre">ax[i].axis('tight')</span></code>: This line adjusts the axis limits to tightly fit the image if <code class="docutils literal notranslate"><span class="pre">axis_tight</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_=</span> <span class="pre">ax[i].set_aspect(1)</span></code>: This line sets the aspect ratio of the plot to 1, ensuring that the image is displayed without distortion.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_=</span> <span class="pre">ax[i].axis('off')</span></code>: This line turns off the axis labels and ticks for the <code class="docutils literal notranslate"><span class="pre">i</span></code>-th subplot.</p></li>
<li><p>`_= ax</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Img</span> <span class="o">=</span> <span class="n">Images</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">ImgStd</span><span class="p">(</span><span class="n">Inp</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;This function standardizes image values.&#39;&#39;&#39;</span>
    <span class="n">Out</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">Inp</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">Out</span><span class="p">[</span><span class="n">Out</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">Out</span><span class="p">[</span><span class="n">Out</span><span class="o">&gt;</span><span class="mi">255</span><span class="p">]</span> <span class="o">=</span> <span class="mi">255</span>
    <span class="k">return</span> <span class="n">Out</span>

<span class="c1"># Generating a noisy image using mu = 0 and sigma = 0.8</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">mu</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">sigma</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">Img_noise</span> <span class="o">=</span> <span class="n">Img</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span> <span class="n">sigma</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">Img_noise</span> <span class="o">=</span> <span class="n">ImgStd</span><span class="p">(</span><span class="n">Img_noise</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">,</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
<span class="n">font</span> <span class="o">=</span> <span class="n">FontProperties</span><span class="p">()</span>
<span class="n">font</span><span class="o">.</span><span class="n">set_weight</span><span class="p">(</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>

<span class="n">_</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Flower Image&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">18</span><span class="p">)</span>

<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Img</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Original Image&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Img_noise</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Noisy Image&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="k">del</span> <span class="n">i</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/057bd25b1dc0b43be07fa0fcb25b96771df8e0f6ce53a505e370658de71243d7.png" src="_images/057bd25b1dc0b43be07fa0fcb25b96771df8e0f6ce53a505e370658de71243d7.png" />
</div>
</div>
<p>Let’s break down the code step by step:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Img</span> <span class="pre">=</span> <span class="pre">Images[1].copy()</span></code>: This line selects the second image from the <code class="docutils literal notranslate"><span class="pre">Images</span></code> array and creates a copy of it. The selected image is assigned to the variable <code class="docutils literal notranslate"><span class="pre">Img</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">ImgStd(Inp):</span></code>: This line defines a function named <code class="docutils literal notranslate"><span class="pre">ImgStd</span></code> that takes an input image <code class="docutils literal notranslate"><span class="pre">Inp</span></code> as a parameter. This function is used to standardize the image values.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Out</span> <span class="pre">=</span> <span class="pre">np.round(Inp).astype(int)</span></code>: This line rounds the pixel values of the input image <code class="docutils literal notranslate"><span class="pre">Inp</span></code> to the nearest integer and converts them to the <code class="docutils literal notranslate"><span class="pre">int</span></code> data type. The rounded values are stored in the variable <code class="docutils literal notranslate"><span class="pre">Out</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Out[Out&lt;0]</span> <span class="pre">=</span> <span class="pre">0</span></code>: This line sets any negative pixel values in the <code class="docutils literal notranslate"><span class="pre">Out</span></code> array to 0. This ensures that all pixel values are non-negative.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Out[Out&gt;255]</span> <span class="pre">=</span> <span class="pre">255</span></code>: This line sets any pixel values greater than 255 in the <code class="docutils literal notranslate"><span class="pre">Out</span></code> array to 255. This ensures that all pixel values are within the valid range of 0 to 255.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">Out</span></code>: This line returns the standardized image <code class="docutils literal notranslate"><span class="pre">Out</span></code> from the <code class="docutils literal notranslate"><span class="pre">ImgStd</span></code> function.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mu</span> <span class="pre">=</span> <span class="pre">0;</span> <span class="pre">sigma</span> <span class="pre">=</span> <span class="pre">10</span></code>: This line defines the mean (<code class="docutils literal notranslate"><span class="pre">mu</span></code>) and standard deviation (<code class="docutils literal notranslate"><span class="pre">sigma</span></code>) for generating random noise.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Img_noise</span> <span class="pre">=</span> <span class="pre">Img.copy()</span> <span class="pre">-</span> <span class="pre">np.random.normal(mu,</span> <span class="pre">sigma,</span> <span class="pre">size=Img.shape)</span></code>: This line generates random noise using the <code class="docutils literal notranslate"><span class="pre">np.random.normal</span></code> function with a mean of 0 and standard deviation of 10. The noise is subtracted from the copied <code class="docutils literal notranslate"><span class="pre">Img</span></code> array, creating a noisy version of the image. The noisy image is assigned to the variable <code class="docutils literal notranslate"><span class="pre">Img_noise</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Img_noise</span> <span class="pre">=</span> <span class="pre">ImgStd(Img_noise)</span></code>: This line applies the <code class="docutils literal notranslate"><span class="pre">ImgStd</span></code> function to the <code class="docutils literal notranslate"><span class="pre">Img_noise</span></code> image, standardizing its pixel values.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fig,</span> <span class="pre">ax</span> <span class="pre">=</span> <span class="pre">plt.subplots(1,</span> <span class="pre">2,</span> <span class="pre">figsize=(17,</span> <span class="pre">6))</span></code>: This line creates a figure (<code class="docutils literal notranslate"><span class="pre">fig</span></code>) and a set of subplots (<code class="docutils literal notranslate"><span class="pre">ax</span></code>) using the <code class="docutils literal notranslate"><span class="pre">plt.subplots</span></code> function. It specifies that there will be 1 row and 2 columns of subplots, resulting in two subplots side by side. The <code class="docutils literal notranslate"><span class="pre">figsize</span></code> parameter sets the size of the figure.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ax</span> <span class="pre">=</span> <span class="pre">ax.ravel()</span></code>: This line flattens the <code class="docutils literal notranslate"><span class="pre">ax</span></code> array, converting it into a 1-dimensional array. This is done to make it easier to access and manipulate the subplots individually.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">font</span> <span class="pre">=</span> <span class="pre">FontProperties()</span></code>: This line creates a <code class="docutils literal notranslate"><span class="pre">FontProperties</span></code> object, which is used to modify the font properties of the text in the plot.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">font.set_weight('bold')</span></code>: This line sets the font weight of the text to bold.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_=</span> <span class="pre">fig.suptitle('Flower</span> <span class="pre">Image',</span> <span class="pre">fontproperties=font,</span> <span class="pre">fontsize=18)</span></code>: This line sets the title of the figure to ‘Flower Image’ using the <code class="docutils literal notranslate"><span class="pre">suptitle</span></code> function. The <code class="docutils literal notranslate"><span class="pre">_</span></code> is used to ignore the return value of the <code class="docutils literal notranslate"><span class="pre">suptitle</span></code> function.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_=</span> <span class="pre">ax[0].imshow(Img)</span></code>: This line displays the original image <code class="docutils literal notranslate"><span class="pre">Img</span></code> on the first subplot using the <code class="docutils literal notranslate"><span class="pre">imshow</span></code> function. The <code class="docutils literal notranslate"><span class="pre">_</span></code> is used to ignore the return value of the <code class="docutils literal notranslate"><span class="pre">imshow</span></code> function.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_=</span> <span class="pre">ax[0].set_title('Original</span> <span class="pre">Image',</span> <span class="pre">fontproperties=font,</span> <span class="pre">fontsize=12)</span></code>: This line sets the title of</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># We can consider a kernal as follows</span>
<span class="n">kernel</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">/</span><span class="mi">64</span>

<span class="kn">import</span> <span class="nn">cv2</span>
<span class="n">Out</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">filter2D</span><span class="p">(</span><span class="n">Img_noise</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">kernel</span><span class="p">)</span>
<span class="n">Out</span> <span class="o">=</span> <span class="n">ImgStd</span><span class="p">(</span><span class="n">Out</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">,</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Img_noise</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Noisy Image&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Out</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;filter2D (Noisy Image)&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="k">del</span> <span class="n">i</span>
<span class="k">del</span> <span class="n">Out</span><span class="p">,</span> <span class="n">kernel</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/bdad85ce75e5fafc775da07574281b7b548edc1f2096fe5120ee2b9773a549a9.png" src="_images/bdad85ce75e5fafc775da07574281b7b548edc1f2096fe5120ee2b9773a549a9.png" />
</div>
</div>
<p>Let’s break it down step by step:</p>
<ol class="arabic simple">
<li><p>Define a kernel: The code starts by defining a kernel using the NumPy library. The kernel is a 2D array of size 8x8 with all elements set to 1, and each element is of data type <code class="docutils literal notranslate"><span class="pre">np.float32</span></code>. This kernel will be used for filtering the image.</p></li>
<li><p>Import necessary libraries: The code imports the OpenCV library (<code class="docutils literal notranslate"><span class="pre">cv2</span></code>) and creates an alias for it.</p></li>
<li><p>Apply the filter: The <code class="docutils literal notranslate"><span class="pre">cv2.filter2D()</span></code> function is used to apply the kernel filter to the noisy image (<code class="docutils literal notranslate"><span class="pre">Img_noise</span></code>). The <code class="docutils literal notranslate"><span class="pre">-1</span></code> parameter specifies that the output image should have the same depth as the input image.</p></li>
<li><p>Image standardization: After applying the filter, the resulting image (<code class="docutils literal notranslate"><span class="pre">Out</span></code>) is passed to the <code class="docutils literal notranslate"><span class="pre">ImgStd()</span></code> function (presumably a custom function) to perform some form of image standardization or processing. The details of this function are not provided in the given code snippet.</p></li>
<li><p>Visualize the images: The code then creates a figure with two subplots using <code class="docutils literal notranslate"><span class="pre">plt.subplots()</span></code>. The first subplot displays the original noisy image (<code class="docutils literal notranslate"><span class="pre">Img_noise</span></code>), while the second subplot displays the filtered image (<code class="docutils literal notranslate"><span class="pre">Out</span></code>). The image titles are set accordingly.</p></li>
<li><p>Set plot properties: The code sets various properties for the subplots, such as the aspect ratio, turning off the axis, and adjusting the font properties.</p></li>
<li><p>Clean up: Finally, the variables <code class="docutils literal notranslate"><span class="pre">i</span></code>, <code class="docutils literal notranslate"><span class="pre">Out</span></code>, and <code class="docutils literal notranslate"><span class="pre">kernel</span></code> are deleted from memory using the <code class="docutils literal notranslate"><span class="pre">del</span></code> statements.</p></li>
</ol>
<p>Note: To run this code successfully, you need to have the necessary libraries (NumPy, OpenCV, and Matplotlib) imported and initialized correctly.</p>
</div>
</div>
<div class="section" id="image-blurring-image-smoothing">
<h2><span class="section-number">6.2. </span>Image Blurring (Image Smoothing)<a class="headerlink" href="#image-blurring-image-smoothing" title="Permalink to this headline">#</a></h2>
<p>Image blurring, also known as image smoothing or image filtering, is a technique used to reduce high-frequency content in an image, such as noise and edges. It helps to remove unwanted details and create a smoother appearance. There are various methods available to apply image blurring, including:</p>
<ol class="arabic simple">
<li><p>Gaussian Blur: This method applies a Gaussian kernel to the image, which convolves with the image pixels to produce a weighted average of neighboring pixels. The weights are determined by the Gaussian distribution, and this blurring method is effective in reducing high-frequency noise.</p></li>
<li><p>Median Blur: In this method, each pixel in the image is replaced with the median value of its neighboring pixels. It is particularly useful for removing salt-and-pepper noise, where isolated pixels have extreme intensity values.</p></li>
<li><p>Bilateral Filter: The bilateral filter is a non-linear filter that considers both spatial and intensity differences while blurring an image. It preserves edges by reducing noise while maintaining the sharpness of significant image features.</p></li>
<li><p>Box Blur: Also known as average blur, this method replaces each pixel with the average value of its neighboring pixels. It provides a simple and uniform blurring effect but may not preserve fine details.</p></li>
<li><p>Motion Blur: This blurring effect simulates the motion of a camera or an object. It creates streak-like artifacts in the image, giving the impression of movement.</p></li>
</ol>
<p>These methods can be implemented using various image processing libraries such as OpenCV in Python. The choice of blurring technique depends on the specific requirements of the application and the nature of the image content.</p>
<div class="section" id="blur">
<h3><span class="section-number">6.2.1. </span>Blur<a class="headerlink" href="#blur" title="Permalink to this headline">#</a></h3>
<p>Box blur, also referred to as a box linear filter or average blur, is a type of low-pass filter commonly used for blurring images. The main idea behind a box blur is to calculate the value of each pixel in the output image by averaging the values of its neighboring pixels in the input image. This averaging operation helps to reduce high-frequency details and smooth out the image.</p>
<p>To apply a box blur, a fixed-size rectangular window, often referred to as a kernel or filter, is placed over each pixel in the input image. The size of the window determines the extent of blurring. The value of each pixel in the output image is then calculated by taking the average of the pixel values covered by the window.</p>
<p>For example, if we consider a 3x3 box blur, the output value of each pixel is obtained by averaging the pixel values of the 3x3 neighborhood surrounding that pixel. This process is repeated for every pixel in the image, resulting in a blurred image.</p>
<p>Box blur is a simple and computationally efficient blurring technique. However, it can lead to some loss of detail and may not preserve sharp edges as effectively as other blurring methods. It is commonly used when a moderate level of blurring is desired, such as in image preprocessing tasks or as a building block in more complex blur algorithms.</p>
<p>Various image processing libraries, such as OpenCV in Python, provide functions to apply box blur filters to images with different kernel sizes, allowing users to control the amount of blurring applied based on their specific needs.</p>
<p>Moroever, <a class="reference external" href="https://docs.opencv.org/2.4/modules/imgproc/doc/filtering.html?highlight=cv2.blur#blur">Blur</a> is a OpenCV function that blurs an image using the normalized box filter</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span>cv2.blur(src, ksize[, dst[, anchor[, borderType]]]) → dst
</pre></div>
</div>
<p><strong>Parameters</strong>:</p>
<ul class="simple">
<li><p>src – input image; it can have any number of channels, which are processed independently, but the depth should be CV_8U, CV_16U, CV_16S, CV_32F or CV_64F.</p></li>
<li><p>dst – output image of the same size and type as src.</p></li>
<li><p>ksize – blurring kernel size.</p></li>
<li><p>anchor – anchor point; default value Point(-1,-1) means that the anchor is at the kernel center.</p></li>
<li><p>borderType – border mode used to extrapolate pixels outside of the image.</p></li>
</ul>
<p>The kernel function here:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\texttt{K} =  \frac{1}{\texttt{ksize.width*ksize.height}} \begin{bmatrix} 1 &amp; 1 &amp; 1 &amp;  \cdots &amp; 1 &amp; 1  \\ 1 &amp; 1 &amp; 1 &amp;  \cdots &amp; 1 &amp; 1  \\ \vdots &amp; \vdots &amp; \vdots &amp;  \vdots &amp; \vdots &amp; \vdots \\ 1 &amp; 1 &amp; 1 &amp;  \cdots &amp; 1 &amp; 1  \\ \end{bmatrix}\end{split}\]</div>
<p><font color='Blue'><b>Example</b></font>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Out</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">blur</span><span class="p">(</span><span class="n">Img_noise</span><span class="p">,(</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">,</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Img_noise</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Noisy Image&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Out</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;blur (Noisy Image)&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="k">del</span> <span class="n">i</span>
<span class="k">del</span> <span class="n">Out</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/764e8396a601d1a3d6fbd2541050ccec23b02a5784926e4edc97ee6f2dacf03f.png" src="_images/764e8396a601d1a3d6fbd2541050ccec23b02a5784926e4edc97ee6f2dacf03f.png" />
</div>
</div>
<p>Let’s break down the code step by step:</p>
<ol class="arabic simple">
<li><p>Apply the box blur filter: The <code class="docutils literal notranslate"><span class="pre">cv2.blur()</span></code> function is used to apply the box blur filter to the noisy image (<code class="docutils literal notranslate"><span class="pre">Img_noise</span></code>). The <code class="docutils literal notranslate"><span class="pre">(8,8)</span></code> parameter specifies the size of the blur kernel as an 8x8 rectangular window.</p></li>
<li><p>Visualize the images: The code then creates a figure with two subplots using <code class="docutils literal notranslate"><span class="pre">plt.subplots()</span></code>. The first subplot displays the original noisy image (<code class="docutils literal notranslate"><span class="pre">Img_noise</span></code>), while the second subplot displays the blurred image (<code class="docutils literal notranslate"><span class="pre">Out</span></code>). The image titles are set accordingly.</p></li>
<li><p>Set plot properties: The code sets various properties for the subplots, such as the aspect ratio, turning off the axis, and adjusting the font properties.</p></li>
<li><p>Clean up: The variable <code class="docutils literal notranslate"><span class="pre">i</span></code> and <code class="docutils literal notranslate"><span class="pre">Out</span></code> are deleted from memory using the <code class="docutils literal notranslate"><span class="pre">del</span></code> statements.</p></li>
</ol>
<p>Note: To run this code successfully, you need to have the necessary libraries (OpenCV and Matplotlib) imported and initialized correctly.</p>
<p>To see this filter better, we can consider using an image with some text phrases.</p>
<p><font color='Blue'><b>Example</b></font>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Colors</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;White&#39;</span><span class="p">:(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="s1">&#39;Black&#39;</span><span class="p">:(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="s1">&#39;Red&#39;</span><span class="p">:(</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="s1">&#39;Green&#39;</span><span class="p">:(</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="s1">&#39;Blue&#39;</span><span class="p">:(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">),</span>
        <span class="s1">&#39;Yellow&#39;</span><span class="p">:(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="s1">&#39;Purple&#39;</span><span class="p">:(</span><span class="mi">128</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">128</span><span class="p">),</span> <span class="s1">&#39;Indigo&#39;</span><span class="p">:(</span><span class="mi">75</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">130</span><span class="p">),</span><span class="s1">&#39;OrangeRed&#39;</span><span class="p">:(</span><span class="mi">255</span><span class="p">,</span><span class="mi">69</span><span class="p">,</span><span class="mi">0</span><span class="p">)}</span>

<span class="n">Img2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">800</span><span class="p">,</span> <span class="mi">800</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>

<span class="n">Img2</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">putText</span><span class="p">(</span><span class="n">Img2</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;Sample Text&#39;</span><span class="p">,</span> <span class="n">org</span> <span class="o">=</span> <span class="p">(</span><span class="mi">80</span><span class="p">,</span> <span class="mi">300</span><span class="p">),</span>
                  <span class="n">fontFace</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">FONT_HERSHEY_TRIPLEX</span><span class="p">,</span> <span class="n">fontScale</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">Colors</span><span class="p">[</span><span class="s1">&#39;Yellow&#39;</span><span class="p">],</span> <span class="n">thickness</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>

<span class="n">Img2</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">putText</span><span class="p">(</span><span class="n">Img2</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;Sample Text&#39;</span><span class="p">,</span> <span class="n">org</span> <span class="o">=</span> <span class="p">(</span><span class="mi">80</span><span class="p">,</span> <span class="mi">400</span><span class="p">),</span>
                  <span class="n">fontFace</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">FONT_HERSHEY_TRIPLEX</span><span class="p">,</span> <span class="n">fontScale</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">Colors</span><span class="p">[</span><span class="s1">&#39;Red&#39;</span><span class="p">],</span> <span class="n">thickness</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>

<span class="n">Img2</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">putText</span><span class="p">(</span><span class="n">Img2</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;Sample Text&#39;</span><span class="p">,</span> <span class="n">org</span> <span class="o">=</span> <span class="p">(</span><span class="mi">80</span><span class="p">,</span> <span class="mi">500</span><span class="p">),</span>
                  <span class="n">fontFace</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">FONT_HERSHEY_TRIPLEX</span><span class="p">,</span> <span class="n">fontScale</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">Colors</span><span class="p">[</span><span class="s1">&#39;Green&#39;</span><span class="p">],</span> <span class="n">thickness</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># Generating a noisy image using mu = 0 and sigma = 0.8</span>
<span class="n">mu</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">sigma</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">Img2_noise</span> <span class="o">=</span> <span class="n">Img2</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span> <span class="n">sigma</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">Img2</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">Img2_noise</span> <span class="o">=</span> <span class="n">ImgStd</span><span class="p">(</span><span class="n">Img2_noise</span><span class="p">)</span>


<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">,</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Image with Texts&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">18</span><span class="p">)</span>

<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Img2</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Original Image&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Img2_noise</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Noisy Image&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="k">del</span> <span class="n">i</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/a2e3443c2736485c067053b1f55852db4e422e43c469dc43e77525fbdfbd00e2.png" src="_images/a2e3443c2736485c067053b1f55852db4e422e43c469dc43e77525fbdfbd00e2.png" />
</div>
</div>
<p>Let’s go through the code step by step:</p>
<ol class="arabic simple">
<li><p>Define color dictionary: The code defines a dictionary called <code class="docutils literal notranslate"><span class="pre">Colors</span></code> that maps color names to their corresponding RGB values. Each color is represented as a tuple of three integers representing the red, green, and blue color channels.</p></li>
<li><p>Create an empty image: The code creates an empty image <code class="docutils literal notranslate"><span class="pre">Img2</span></code> with dimensions 800x800 and three color channels using the NumPy library. The data type of the image is set to <code class="docutils literal notranslate"><span class="pre">np.uint8</span></code>.</p></li>
<li><p>Add text to the image: The <code class="docutils literal notranslate"><span class="pre">cv2.putText()</span></code> function is used multiple times to add text to the <code class="docutils literal notranslate"><span class="pre">Img2</span></code> image. Each <code class="docutils literal notranslate"><span class="pre">cv2.putText()</span></code> call specifies the text content, position (<code class="docutils literal notranslate"><span class="pre">org</span></code>), font face (<code class="docutils literal notranslate"><span class="pre">fontFace</span></code>), font scale (<code class="docutils literal notranslate"><span class="pre">fontScale</span></code>), color, and thickness of the text. The color is retrieved from the <code class="docutils literal notranslate"><span class="pre">Colors</span></code> dictionary using color names like ‘Yellow’, ‘Red’, and ‘Green’.</p></li>
<li><p>Generate noisy image: The code creates a copy of <code class="docutils literal notranslate"><span class="pre">Img2</span></code> named <code class="docutils literal notranslate"><span class="pre">Img2_noise</span></code>. Gaussian noise is added to <code class="docutils literal notranslate"><span class="pre">Img2_noise</span></code> by subtracting random values drawn from a normal distribution with mean <code class="docutils literal notranslate"><span class="pre">mu</span></code> (0) and standard deviation <code class="docutils literal notranslate"><span class="pre">sigma</span></code> (50). The resulting noisy image is passed to the <code class="docutils literal notranslate"><span class="pre">ImgStd()</span></code> function (presumably a custom function) for some form of image standardization or processing.</p></li>
<li><p>Visualize the images: The code creates a figure with two subplots using <code class="docutils literal notranslate"><span class="pre">plt.subplots()</span></code>. The first subplot displays the original image with text (<code class="docutils literal notranslate"><span class="pre">Img2</span></code>), and the second subplot displays the noisy image with text (<code class="docutils literal notranslate"><span class="pre">Img2_noise</span></code>). The image titles and the title for the entire figure are set accordingly.</p></li>
<li><p>Set plot properties: The code sets various properties for the subplots and the figure, such as the aspect ratio, turning off the axis, and adjusting the font properties.</p></li>
<li><p>Clean up: The variable <code class="docutils literal notranslate"><span class="pre">i</span></code> is deleted from memory using the <code class="docutils literal notranslate"><span class="pre">del</span></code> statement.</p></li>
</ol>
<p>Note: To run this code successfully, you need to have the necessary libraries (NumPy, OpenCV, and Matplotlib) imported and initialized correctly.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Out</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">blur</span><span class="p">(</span><span class="n">Img2_noise</span><span class="p">,(</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">,</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Img2_noise</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Noisy Image&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Out</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;blur (Noisy Image)&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="k">del</span> <span class="n">i</span>
<span class="k">del</span> <span class="n">Out</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/f3f36b9ca82b793cd5ebf87cef269c1bc176b31918ceef3c6bc396f1c51672d8.png" src="_images/f3f36b9ca82b793cd5ebf87cef269c1bc176b31918ceef3c6bc396f1c51672d8.png" />
</div>
</div>
<p>Let’s break it down step by step:</p>
<ol class="arabic simple">
<li><p>Apply the box blur filter: The <code class="docutils literal notranslate"><span class="pre">cv2.blur()</span></code> function is used to apply the box blur filter to the noisy image with text (<code class="docutils literal notranslate"><span class="pre">Img2_noise</span></code>). The <code class="docutils literal notranslate"><span class="pre">(8,8)</span></code> parameter specifies the size of the blur kernel as an 8x8 rectangular window.</p></li>
<li><p>Visualize the images: The code then creates a figure with two subplots using <code class="docutils literal notranslate"><span class="pre">plt.subplots()</span></code>. The first subplot displays the original noisy image with text (<code class="docutils literal notranslate"><span class="pre">Img2_noise</span></code>), while the second subplot displays the blurred image (<code class="docutils literal notranslate"><span class="pre">Out</span></code>). The image titles are set accordingly.</p></li>
<li><p>Set plot properties: The code sets various properties for the subplots, such as the aspect ratio, turning off the axis, and adjusting the font properties.</p></li>
<li><p>Clean up: The variables <code class="docutils literal notranslate"><span class="pre">i</span></code> and <code class="docutils literal notranslate"><span class="pre">Out</span></code> are deleted from memory using the <code class="docutils literal notranslate"><span class="pre">del</span></code> statements.</p></li>
</ol>
<p>Note: To run this code successfully, you need to have the necessary libraries (OpenCV and Matplotlib) imported and initialized correctly. Additionally, make sure the <code class="docutils literal notranslate"><span class="pre">Img2_noise</span></code> variable is correctly generated or defined before applying the blur filter.</p>
</div>
<div class="section" id="box-filter">
<h3><span class="section-number">6.2.2. </span>Box Filter<a class="headerlink" href="#box-filter" title="Permalink to this headline">#</a></h3>
<p><a class="reference external" href="https://docs.opencv.org/2.4/modules/imgproc/doc/filtering.html?highlight=cv2.blur#boxfilter">Box Filter</a> is a OpenCV function that blurs an image using the box filter.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span>cv2.boxFilter(src, ddepth, ksize[, dst[, anchor[, normalize[, borderType]]]]) → dst
</pre></div>
</div>
<p>Parameters:</p>
<ul class="simple">
<li><p>src – input image.</p></li>
<li><p>dst – output image of the same size and type as src.</p></li>
<li><p>ddepth – the output image depth (-1 to use src.depth()).</p></li>
<li><p>ksize – blurring kernel size.</p></li>
<li><p>anchor – anchor point; default value Point(-1,-1) means that the anchor is at the kernel center.</p></li>
<li><p>normalize – flag, specifying whether the kernel is normalized by its area or not.</p></li>
<li><p>borderType – border mode used to extrapolate pixels outside of the image.</p></li>
</ul>
<p>The function smoothes an image using the kernel:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\texttt{K} =  \alpha \begin{bmatrix} 1 &amp; 1 &amp; 1 &amp;  \cdots &amp; 1 &amp; 1  \\ 1 &amp; 1 &amp; 1 &amp;  \cdots &amp; 1 &amp; 1  \\ \vdots &amp; \vdots &amp; \vdots &amp;  \vdots &amp; \vdots &amp; \vdots \\ 1 &amp; 1 &amp; 1 &amp;  \cdots &amp; 1 &amp; 1  \\ \end{bmatrix}\end{split}\]</div>
<p>where</p>
<div class="math notranslate nohighlight">
\[\begin{split}\alpha = \begin{cases}
\frac{1}{\texttt{ksize.width*ksize.height}}, &amp; \mbox{when normalize=true},\\
1, &amp; \mbox{Otherwise}.
\end{cases}\end{split}\]</div>
<p><font color='Blue'><b>Example</b></font>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span> <span class="p">,</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Img</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Original Image&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">):</span>
    <span class="n">k</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">*</span><span class="mi">10</span><span class="o">+</span><span class="mi">1</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">cv2</span><span class="o">.</span><span class="n">boxFilter</span><span class="p">(</span><span class="n">src</span> <span class="o">=</span> <span class="n">Img</span><span class="p">,</span> <span class="n">ddepth</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">ksize</span> <span class="o">=</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">k</span><span class="p">)))</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;boxFilter (Image)&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">0.02</span><span class="o">*</span><span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;Kernel Size: </span><span class="si">%i</span><span class="s1"> by </span><span class="si">%i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">k</span><span class="p">),</span>
                   <span class="n">size</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s2">&quot;square&quot;</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s1">&#39;Navy&#39;</span><span class="p">,</span><span class="n">fc</span><span class="o">=</span><span class="s1">&#39;LightSkyBlue&#39;</span><span class="p">))</span>
    
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ax</span><span class="p">)):</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="k">del</span> <span class="n">i</span><span class="p">,</span> <span class="n">k</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/10c755d639e47334b5e2ab7829da12c0e581225aaf41bdda291b33cea97a5d51.png" src="_images/10c755d639e47334b5e2ab7829da12c0e581225aaf41bdda291b33cea97a5d51.png" />
</div>
</div>
<p>Let’s go through the code step by step:</p>
<ol class="arabic simple">
<li><p>Create subplots: The code uses <code class="docutils literal notranslate"><span class="pre">plt.subplots()</span></code> to create a figure with 2 rows and 2 columns of subplots. The <code class="docutils literal notranslate"><span class="pre">figsize</span></code> parameter sets the size of the figure to (17, 2*6) units. The subplots are stored in the variables <code class="docutils literal notranslate"><span class="pre">fig</span></code> and <code class="docutils literal notranslate"><span class="pre">ax</span></code>.</p></li>
<li><p>Set the first subplot: The code selects the first subplot (<code class="docutils literal notranslate"><span class="pre">ax[0]</span></code>) and displays the original image (<code class="docutils literal notranslate"><span class="pre">Img</span></code>) using <code class="docutils literal notranslate"><span class="pre">ax[0].imshow()</span></code>. The title of the subplot is set to ‘Original Image’ using <code class="docutils literal notranslate"><span class="pre">ax[0].set_title()</span></code>.</p></li>
<li><p>Apply box filter and create subplots: The code enters a loop that iterates from 1 to 3. In each iteration, it calculates the kernel size <code class="docutils literal notranslate"><span class="pre">k</span></code> based on the loop index (<code class="docutils literal notranslate"><span class="pre">i</span></code>). The kernel size increases exponentially by a factor of 2 (starting from 1) multiplied by 10, plus 1.</p></li>
<li><p>Apply box filter to image: Inside the loop, the code applies the box filter to the original image using <code class="docutils literal notranslate"><span class="pre">cv2.boxFilter()</span></code>. The <code class="docutils literal notranslate"><span class="pre">src</span></code> parameter is set to <code class="docutils literal notranslate"><span class="pre">Img</span></code> (original image), <code class="docutils literal notranslate"><span class="pre">ddepth</span></code> is set to -1 to maintain the same depth as the input image, and <code class="docutils literal notranslate"><span class="pre">ksize</span></code> is set to the calculated kernel size <code class="docutils literal notranslate"><span class="pre">(k,</span> <span class="pre">k)</span></code>.</p></li>
<li><p>Set subplot properties: For each iteration, the code sets the title of the subplot to ‘boxFilter (Image)’ using <code class="docutils literal notranslate"><span class="pre">ax[i].set_title()</span></code>. Additionally, it adds a text box below the title to display the current kernel size using <code class="docutils literal notranslate"><span class="pre">ax[i].text()</span></code>. The kernel size is formatted as ‘Kernel Size: x by x’, where ‘x’ represents the current kernel size.</p></li>
<li><p>Set plot properties: After the loop, the code sets various properties for all subplots. It sets the aspect ratio to 1, hides the axis, and turns off the grid.</p></li>
<li><p>Clean up: The variables <code class="docutils literal notranslate"><span class="pre">i</span></code> and <code class="docutils literal notranslate"><span class="pre">k</span></code> are deleted from memory using the <code class="docutils literal notranslate"><span class="pre">del</span></code> statements.</p></li>
</ol>
<p>Note: To run this code successfully, you need to have the necessary libraries (Matplotlib and OpenCV) imported and initialized correctly. Additionally, ensure that the <code class="docutils literal notranslate"><span class="pre">Img</span></code> variable contains a valid image before applying the box filter.</p>
</div>
<div class="section" id="gaussian-blur">
<h3><span class="section-number">6.2.3. </span>Gaussian Blur<a class="headerlink" href="#gaussian-blur" title="Permalink to this headline">#</a></h3>
<p>Gaussian function in one dimension can be defined as
$<span class="math notranslate nohighlight">\(G(x)={\frac {1}{\sqrt {2\pi \sigma ^{2}}}}e^{-{\frac {x^{2}}{2\sigma ^{2}}}}\)</span><span class="math notranslate nohighlight">\(
In two dimensions, it is the product of two such Gaussian functions, one in each dimension:
\)</span><span class="math notranslate nohighlight">\(G(x,y)={\frac {1}{2\pi \sigma ^{2}}}e^{-{\frac {x^{2}+y^{2}}{2\sigma ^{2}}}}\)</span>$
where x is the distance from the origin in the horizontal axis, y is the distance from the origin in the vertical axis, and σ is the standard deviation of the Gaussian distribution.</p>
<p>In OpenCV, <a class="reference external" href="https://docs.opencv.org/2.4/modules/imgproc/doc/filtering.html?highlight=cv2.blur#gaussianblur">Gaussian Blur</a> is defined as follows.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span>cv2.GaussianBlur(src, ksize, sigmaX[, dst[, sigmaY[, borderType]]]) → dst
</pre></div>
</div>
<p><strong>Parameters</strong>:</p>
<ul class="simple">
<li><p>src – input image; the image can have any number of channels, which are processed independently, but the depth should be CV_8U, CV_16U, CV_16S, CV_32F or CV_64F.</p></li>
<li><p>dst – output image of the same size and type as src.</p></li>
<li><p>ksize – Gaussian kernel size. ksize.width and ksize.height can differ but they both must be positive and odd. Or, they can be zero’s and then they are computed from sigma* .</p></li>
<li><p>sigmaX – Gaussian kernel standard deviation in X direction.</p></li>
<li><p>sigmaY – Gaussian kernel standard deviation in Y direction; if sigmaY is zero, it is set to be equal to sigmaX, if both sigmas are zeros, they are computed from ksize.width and ksize.height , respectively (see getGaussianKernel() for details); to fully control the result regardless of possible future modifications of all this semantics, it is recommended to specify all of ksize, sigmaX, and sigmaY.</p></li>
<li><p>borderType – pixel extrapolation method (see borderInterpolate() for details).</p></li>
</ul>
<p><font color='Blue'><b>Example</b></font>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span> <span class="p">,</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Img</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Original Image&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">):</span>
    <span class="n">k</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">*</span><span class="mi">4</span><span class="o">+</span><span class="mi">1</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">cv2</span><span class="o">.</span><span class="n">GaussianBlur</span><span class="p">(</span><span class="n">src</span> <span class="o">=</span> <span class="n">Img</span><span class="p">,</span> <span class="n">ksize</span> <span class="o">=</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">k</span><span class="p">),</span> <span class="n">sigmaX</span> <span class="o">=</span> <span class="mi">0</span><span class="p">))</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;GaussianBlur (Image)&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">0.02</span><span class="o">*</span><span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;Kernel Size: </span><span class="si">%i</span><span class="s1"> by </span><span class="si">%i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">k</span><span class="p">),</span>
                   <span class="n">size</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s2">&quot;square&quot;</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s1">&#39;Navy&#39;</span><span class="p">,</span><span class="n">fc</span><span class="o">=</span><span class="s1">&#39;LightSkyBlue&#39;</span><span class="p">))</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ax</span><span class="p">)):</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="k">del</span> <span class="n">i</span><span class="p">,</span> <span class="n">k</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/882328fd45f4044c448a606f639bd14db9bf8310d5c66b548f60ef764da2a236.png" src="_images/882328fd45f4044c448a606f639bd14db9bf8310d5c66b548f60ef764da2a236.png" />
</div>
</div>
<p>Let’s go through the code step by step:</p>
<ol class="arabic simple">
<li><p>Create subplots: The code uses <code class="docutils literal notranslate"><span class="pre">plt.subplots()</span></code> to create a figure with 2 rows and 2 columns of subplots. The <code class="docutils literal notranslate"><span class="pre">figsize</span></code> parameter sets the size of the figure to (17, 2*6) units. The subplots are stored in the variables <code class="docutils literal notranslate"><span class="pre">fig</span></code> and <code class="docutils literal notranslate"><span class="pre">ax</span></code>.</p></li>
<li><p>Set the first subplot: The code selects the first subplot (<code class="docutils literal notranslate"><span class="pre">ax[0]</span></code>) and displays the original image (<code class="docutils literal notranslate"><span class="pre">Img</span></code>) using <code class="docutils literal notranslate"><span class="pre">ax[0].imshow()</span></code>. The title of the subplot is set to ‘Original Image’ using <code class="docutils literal notranslate"><span class="pre">ax[0].set_title()</span></code>.</p></li>
<li><p>Apply Gaussian blur and create subplots: The code enters a loop that iterates from 1 to 3. In each iteration, it calculates the kernel size <code class="docutils literal notranslate"><span class="pre">k</span></code> based on the loop index (<code class="docutils literal notranslate"><span class="pre">i</span></code>). The kernel size increases exponentially by a factor of 2 (starting from 1) multiplied by 4, plus 1.</p></li>
<li><p>Apply Gaussian blur to image: Inside the loop, the code applies the Gaussian blur filter to the original image using <code class="docutils literal notranslate"><span class="pre">cv2.GaussianBlur()</span></code>. The <code class="docutils literal notranslate"><span class="pre">src</span></code> parameter is set to <code class="docutils literal notranslate"><span class="pre">Img</span></code> (original image), <code class="docutils literal notranslate"><span class="pre">ksize</span></code> is set to the calculated kernel size <code class="docutils literal notranslate"><span class="pre">(k,</span> <span class="pre">k)</span></code>, and <code class="docutils literal notranslate"><span class="pre">sigmaX</span></code> is set to 0.</p></li>
<li><p>Set subplot properties: For each iteration, the code sets the title of the subplot to ‘GaussianBlur (Image)’ using <code class="docutils literal notranslate"><span class="pre">ax[i].set_title()</span></code>. Additionally, it adds a text box below the title to display the current kernel size using <code class="docutils literal notranslate"><span class="pre">ax[i].text()</span></code>. The kernel size is formatted as ‘Kernel Size: x by x’, where ‘x’ represents the current kernel size.</p></li>
<li><p>Set plot properties: After the loop, the code sets various properties for all subplots. It sets the aspect ratio to 1, hides the axis, and turns off the grid.</p></li>
<li><p>Clean up: The variables <code class="docutils literal notranslate"><span class="pre">i</span></code> and <code class="docutils literal notranslate"><span class="pre">k</span></code> are deleted from memory using the <code class="docutils literal notranslate"><span class="pre">del</span></code> statements.</p></li>
</ol>
<p>Note: To run this code successfully, you need to have the necessary libraries (Matplotlib and OpenCV) imported and initialized correctly. Additionally, ensure that the <code class="docutils literal notranslate"><span class="pre">Img</span></code> variable contains a valid image before applying the Gaussian blur filter.</p>
</div>
<div class="section" id="median-blur">
<h3><span class="section-number">6.2.4. </span>Median Blur<a class="headerlink" href="#median-blur" title="Permalink to this headline">#</a></h3>
<p>The median filter is often used to remove noise from an image that preserves edges while removing noise. See <a class="reference external" href="https://www.uio.no/studier/emner/matnat/ifi/INF2310/v12/undervisningsmateriale/artikler/Huang-etal-median.pdf">A Fast Two-Dimensional Median Filtering Algorithm</a> by Thomas S. Huang et al. for more details regarding this filter.</p>
<p><a class="reference external" href="https://docs.opencv.org/2.4/modules/imgproc/doc/filtering.html?highlight=cv2.blur#medianblur">Median Blur</a> is a OpenCV function that blurs an image using the median filter.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span>cv2.medianBlur(src, ksize[, dst]) → dst
</pre></div>
</div>
<p>Parameters:</p>
<ul class="simple">
<li><p>src – input 1-, 3-, or 4-channel image; when ksize is 3 or 5, the image depth should be CV_8U, CV_16U, or CV_32F, for larger aperture sizes, it can only be CV_8U.</p></li>
<li><p>dst – destination array of the same size and type as src.</p></li>
<li><p>ksize – aperture linear size; it must be odd and greater than 1, for example: 3, 5, 7 …</p></li>
</ul>
<p><font color='Blue'><b>Example</b></font>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span> <span class="p">,</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Img</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Original Image&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">):</span>
    <span class="n">k</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">*</span><span class="mi">10</span><span class="o">+</span><span class="mi">1</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">cv2</span><span class="o">.</span><span class="n">medianBlur</span><span class="p">(</span><span class="n">Img</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">BORDER_DEFAULT</span><span class="p">))</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;medianBlur (Image)&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">0.02</span><span class="o">*</span><span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;Kernel Size: </span><span class="si">%i</span><span class="s1"> by </span><span class="si">%i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">k</span><span class="p">),</span>
                   <span class="n">size</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s2">&quot;square&quot;</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s1">&#39;Navy&#39;</span><span class="p">,</span><span class="n">fc</span><span class="o">=</span><span class="s1">&#39;LightSkyBlue&#39;</span><span class="p">))</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ax</span><span class="p">)):</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="k">del</span> <span class="n">i</span><span class="p">,</span> <span class="n">k</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/432befb52887329f52ff40de2f9319b42a68db9e36be5b33fdb33ebc2b9d74c1.png" src="_images/432befb52887329f52ff40de2f9319b42a68db9e36be5b33fdb33ebc2b9d74c1.png" />
</div>
</div>
<p>Let’s go through the code step by step:</p>
<ol class="arabic simple">
<li><p>Create subplots: The code uses <code class="docutils literal notranslate"><span class="pre">plt.subplots()</span></code> to create a figure with 2 rows and 2 columns of subplots. The <code class="docutils literal notranslate"><span class="pre">figsize</span></code> parameter sets the size of the figure to (17, 2*6) units. The subplots are stored in the variables <code class="docutils literal notranslate"><span class="pre">fig</span></code> and <code class="docutils literal notranslate"><span class="pre">ax</span></code>.</p></li>
<li><p>Set the first subplot: The code selects the first subplot (<code class="docutils literal notranslate"><span class="pre">ax[0]</span></code>) and displays the original image (<code class="docutils literal notranslate"><span class="pre">Img</span></code>) using <code class="docutils literal notranslate"><span class="pre">ax[0].imshow()</span></code>. The title of the subplot is set to ‘Original Image’ using <code class="docutils literal notranslate"><span class="pre">ax[0].set_title()</span></code>.</p></li>
<li><p>Apply median blur and create subplots: The code enters a loop that iterates from 1 to 3. In each iteration, it calculates the kernel size <code class="docutils literal notranslate"><span class="pre">k</span></code> based on the loop index (<code class="docutils literal notranslate"><span class="pre">i</span></code>). The kernel size increases exponentially by a factor of 2 (starting from 1) multiplied by 10, plus 1.</p></li>
<li><p>Apply median blur to image: Inside the loop, the code applies the median blur filter to the original image using <code class="docutils literal notranslate"><span class="pre">cv2.medianBlur()</span></code>. The <code class="docutils literal notranslate"><span class="pre">Img</span></code> parameter is the original image, <code class="docutils literal notranslate"><span class="pre">k</span></code> is the kernel size, and <code class="docutils literal notranslate"><span class="pre">cv2.BORDER_DEFAULT</span></code> specifies the border mode for handling image borders.</p></li>
<li><p>Set subplot properties: For each iteration, the code sets the title of the subplot to ‘medianBlur (Image)’ using <code class="docutils literal notranslate"><span class="pre">ax[i].set_title()</span></code>. Additionally, it adds a text box below the title to display the current kernel size using <code class="docutils literal notranslate"><span class="pre">ax[i].text()</span></code>. The kernel size is formatted as ‘Kernel Size: x by x’, where ‘x’ represents the current kernel size.</p></li>
<li><p>Set plot properties: After the loop, the code sets various properties for all subplots. It sets the aspect ratio to 1, hides the axis, and turns off the grid.</p></li>
<li><p>Clean up: The variables <code class="docutils literal notranslate"><span class="pre">i</span></code> and <code class="docutils literal notranslate"><span class="pre">k</span></code> are deleted from memory using the <code class="docutils literal notranslate"><span class="pre">del</span></code> statements.</p></li>
</ol>
<p>Note: To run this code successfully, you need to have the necessary libraries (Matplotlib and OpenCV) imported and initialized correctly. Additionally, ensure that the <code class="docutils literal notranslate"><span class="pre">Img</span></code> variable contains a valid image before applying the median blur filter.</p>
</div>
<div class="section" id="bilateral-filtering">
<h3><span class="section-number">6.2.5. </span>Bilateral Filtering<a class="headerlink" href="#bilateral-filtering" title="Permalink to this headline">#</a></h3>
<p>A <a class="reference external" href="https://en.wikipedia.org/wiki/Bilateral_filter">bilateral filter</a> is a non-linear, edge-preserving, and noise-reducing smoothing filter for images. The bilateral filter is defined as
$<span class="math notranslate nohighlight">\(I^{\text{filtered}}(x)={\frac {1}{W_{p}}}\sum _{x_{i}\in \Omega }I(x_{i})f_{r}(\|I(x_{i})-I(x)\|)g_{s}(\|x_{i}-x\|).\)</span>$</p>
<p>where</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(I^\text{filtered}\)</span>  is the filtered image,</p></li>
<li><p><span class="math notranslate nohighlight">\(I\)</span> is the original input image to be filtered,</p></li>
<li><p><span class="math notranslate nohighlight">\(x\)</span> are the coordinates of the current pixel to be filtered,</p></li>
<li><p><span class="math notranslate nohighlight">\(\Omega\)</span>  is the window centered in <span class="math notranslate nohighlight">\(x\)</span>, so <span class="math notranslate nohighlight">\(x_{i}\in \Omega\)</span> is another pixel,</p></li>
<li><p><span class="math notranslate nohighlight">\(f_r\)</span> is the range kernel for smoothing differences in intensities (this function can be a Gaussian function),</p></li>
<li><p><span class="math notranslate nohighlight">\(g_{s}\)</span> is the spatial (or domain) kernel for smoothing differences in coordinates (this function can be a Gaussian function).</p></li>
<li><p><span class="math notranslate nohighlight">\(W_{p}\)</span> is the normalization term, and it is defined as follows
$<span class="math notranslate nohighlight">\(\displaystyle W_{p}=\sum _{x_{i}\in \Omega }{f_{r}(\|I(x_{i})-I(x)\|)g_{s}(\|x_{i}-x\|)}\)</span>$</p></li>
</ul>
<p>See <a class="reference external" href="http://www.dai.ed.ac.uk/CVonline/LOCAL_COPIES/MANDUCHI1/Bilateral_Filtering.html">Bilateral Filtering for Gray and Color Images</a> for more details about Bilateral Filtering.</p>
<p>In OpenCV, <a class="reference external" href="https://docs.opencv.org/2.4/modules/imgproc/doc/filtering.html?highlight=cv2.blur#bilateralfilter">Bilateral Filtering</a> is a function that applies the bilateral filter to an image.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span>cv2.bilateralFilter(src, d, sigmaColor, sigmaSpace[, dst[, borderType]]) → dst
</pre></div>
</div>
<p><strong>Parameters</strong>:</p>
<ul class="simple">
<li><p>src – Source 8-bit or floating-point, 1-channel or 3-channel image.</p></li>
<li><p>dst – Destination image of the same size and type as src .</p></li>
<li><p>d – Diameter of each pixel neighborhood that is used during filtering. If it is non-positive, it is computed from sigmaSpace .</p></li>
<li><p>sigmaColor – Filter sigma in the color space. A larger value of the parameter means that farther colors within the pixel neighborhood (see sigmaSpace ) will be mixed together, resulting in larger areas of semi-equal color.</p></li>
<li><p>sigmaSpace – Filter sigma in the coordinate space. A larger value of the parameter means that farther pixels will influence each other as long as their colors are close enough (see sigmaColor ). When d&gt;0 , it specifies the neighborhood size regardless of sigmaSpace . Otherwise, d is proportional to sigmaSpace .</p></li>
</ul>
<p>Moreover, for adaptive bilateral filter, see this <a class="reference external" href="https://arxiv.org/pdf/1811.02308.pdf">article</a>.</p>
<p><font color='Blue'><b>Example</b></font>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span> <span class="p">,</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Img</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Original Image&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">):</span>
    <span class="n">k</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">*</span><span class="mi">10</span><span class="o">+</span><span class="mi">1</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">cv2</span><span class="o">.</span><span class="n">bilateralFilter</span><span class="p">(</span><span class="n">src</span> <span class="o">=</span> <span class="n">Img</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="n">k</span><span class="p">,</span> <span class="n">sigmaColor</span> <span class="o">=</span> <span class="mi">75</span><span class="p">,</span> <span class="n">sigmaSpace</span> <span class="o">=</span> <span class="mi">75</span><span class="p">))</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;bilateralFilter (Image)&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">0.02</span><span class="o">*</span><span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;Diameter = </span><span class="si">%i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">k</span><span class="p">,</span>
                   <span class="n">size</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s2">&quot;square&quot;</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s1">&#39;Navy&#39;</span><span class="p">,</span><span class="n">fc</span><span class="o">=</span><span class="s1">&#39;LightSkyBlue&#39;</span><span class="p">))</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ax</span><span class="p">)):</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="k">del</span> <span class="n">i</span><span class="p">,</span> <span class="n">k</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/0ae31221b3091b3dfbdae61c2585e9f14dda7bffdf7d46ceca5b2f035e1daa87.png" src="_images/0ae31221b3091b3dfbdae61c2585e9f14dda7bffdf7d46ceca5b2f035e1daa87.png" />
</div>
</div>
<p>Let’s go through the code step by step:</p>
<ol class="arabic simple">
<li><p>Create subplots: The code uses <code class="docutils literal notranslate"><span class="pre">plt.subplots()</span></code> to create a figure with 2 rows and 2 columns of subplots. The <code class="docutils literal notranslate"><span class="pre">figsize</span></code> parameter sets the size of the figure to (17, 2*6) units. The subplots are stored in the variables <code class="docutils literal notranslate"><span class="pre">fig</span></code> and <code class="docutils literal notranslate"><span class="pre">ax</span></code>.</p></li>
<li><p>Set the first subplot: The code selects the first subplot (<code class="docutils literal notranslate"><span class="pre">ax[0]</span></code>) and displays the original image (<code class="docutils literal notranslate"><span class="pre">Img</span></code>) using <code class="docutils literal notranslate"><span class="pre">ax[0].imshow()</span></code>. The title of the subplot is set to ‘Original Image’ using <code class="docutils literal notranslate"><span class="pre">ax[0].set_title()</span></code>.</p></li>
<li><p>Apply bilateral filter and create subplots: The code enters a loop that iterates from 1 to 3. In each iteration, it calculates the diameter <code class="docutils literal notranslate"><span class="pre">k</span></code> based on the loop index (<code class="docutils literal notranslate"><span class="pre">i</span></code>). The diameter increases exponentially by a factor of 2 (starting from 1) multiplied by 10, plus 1.</p></li>
<li><p>Apply bilateral filter to image: Inside the loop, the code applies the bilateral filter to the original image using <code class="docutils literal notranslate"><span class="pre">cv2.bilateralFilter()</span></code>. The <code class="docutils literal notranslate"><span class="pre">src</span></code> parameter is set to <code class="docutils literal notranslate"><span class="pre">Img</span></code> (original image), <code class="docutils literal notranslate"><span class="pre">d</span></code> is set to the calculated diameter <code class="docutils literal notranslate"><span class="pre">k</span></code>, <code class="docutils literal notranslate"><span class="pre">sigmaColor</span></code> is set to 75, and <code class="docutils literal notranslate"><span class="pre">sigmaSpace</span></code> is set to 75.</p></li>
<li><p>Set subplot properties: For each iteration, the code sets the title of the subplot to ‘bilateralFilter (Image)’ using <code class="docutils literal notranslate"><span class="pre">ax[i].set_title()</span></code>. Additionally, it adds a text box below the title to display the current diameter using <code class="docutils literal notranslate"><span class="pre">ax[i].text()</span></code>. The diameter is formatted as ‘Diameter = x’, where ‘x’ represents the current diameter value.</p></li>
<li><p>Set plot properties: After the loop, the code sets various properties for all subplots. It sets the aspect ratio to 1, hides the axis, and turns off the grid.</p></li>
<li><p>Clean up: The variables <code class="docutils literal notranslate"><span class="pre">i</span></code> and <code class="docutils literal notranslate"><span class="pre">k</span></code> are deleted from memory using the <code class="docutils literal notranslate"><span class="pre">del</span></code> statements.</p></li>
</ol>
<p>Note: To run this code successfully, you need to have the necessary libraries (Matplotlib and OpenCV) imported and initialized correctly. Additionally, ensure that the <code class="docutils literal notranslate"><span class="pre">Img</span></code> variable contains a valid image before applying the bilateral filter.</p>
</div>
</div>
<hr class="docutils" />
<div class="section" id="refrences">
<h2><span class="section-number">6.3. </span>Refrences<a class="headerlink" href="#refrences" title="Permalink to this headline">#</a></h2>
<ol class="arabic simple">
<li><p><a class="reference external" href="https://docs.opencv.org/2.4/index.html">OpenCV documentation</a></p></li>
<li><p><a class="reference external" href="https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_imgproc/py_filtering/py_filtering.html#smoothing-images">Smoothing Images</a></p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Box_blur">Box Blur</a></p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Gaussian_blur">Gaussian blur</a></p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Bilateral_filter">Bilateral filter</a></p></li>
<li><p>Huang, T., G. J. T. G. Y. Yang, and Greory Tang. “<a class="reference external" href="https://www.uio.no/studier/emner/matnat/ifi/INF2310/v12/undervisningsmateriale/artikler/Huang-etal-median.pdf">A fast two-dimensional median filtering algorithm.</a>” IEEE Transactions on Acoustics, Speech, and Signal Processing 27.1 (1979): 13-18.</p></li>
<li><p>Gavaskar, Ruturaj G., and Kunal N. Chaudhury. “<a class="reference external" href="https://arxiv.org/pdf/1811.02308.pdf">Fast adaptive bilateral filtering.</a>” IEEE Transactions on Image Processing 28.2 (2018): 779-790.</p></li>
</ol>
<hr class="docutils" />
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="Image_Thresholding.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">5. </span>Image Thresholding</p>
      </div>
    </a>
    <a class="right-next"
       href="Morphological_Transformations.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">7. </span>Morphological Transformations</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#smoothing-images">6.1. Smoothing Images</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#d-convolution-image-filtering">6.1.1. 2D Convolution (Image Filtering)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#image-blurring-image-smoothing">6.2. Image Blurring (Image Smoothing)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#blur">6.2.1. Blur</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#box-filter">6.2.2. Box Filter</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gaussian-blur">6.2.3. Gaussian Blur</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#median-blur">6.2.4. Median Blur</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bilateral-filtering">6.2.5. Bilateral Filtering</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#refrences">6.3. Refrences</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Hatef Dastour
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>