

<!DOCTYPE html>


<html >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>3. Geometric Transformations &#8212; Computer Vision</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Geometric_Image_Transformations';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="4. Drawing Functions" href="Drawing_Functions.html" />
    <link rel="prev" title="1. Getting Started with Open CV" href="Getting_Started_with_Open_CV.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="None"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="Getting_Started.html">
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="Getting_Started.html">
                    Getting Started with Python
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Getting_Started_with_Open_CV.html">1. Getting Started with Open CV</a></li>

<li class="toctree-l1 current active"><a class="current reference internal" href="#">3. Geometric Transformations</a></li>
<li class="toctree-l1"><a class="reference internal" href="Drawing_Functions.html">4. Drawing Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Image_Thresholding.html">5. Image Thresholding</a></li>
<li class="toctree-l1"><a class="reference internal" href="Image_Filtering.html">6. Image Filtering</a></li>
<li class="toctree-l1"><a class="reference internal" href="Morphological_Transformations.html">7. Morphological Transformations</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://hatefdastour.github.io/notes/Numerical_Analysis/issues/new?title=Issue%20on%20page%20%2FGeometric_Image_Transformations.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button"
   title="Open an issue"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Geometric_Image_Transformations.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Geometric Transformations</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#affine-transformations">3.1. Affine Transformations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#getaffinetransform">3.1.1. getAffineTransform</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#image-wrap">3.1.2. Image Wrap</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#resize">3.2. Resize</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#warp-perspective">3.3. Warp Perspective</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#camera-calibration">3.4. Camera Calibration</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#refrences">3.5. Refrences</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <div class="tex2jax_ignore mathjax_ignore section" id="geometric-transformations">
<h1><span class="section-number">3. </span>Geometric Transformations<a class="headerlink" href="#geometric-transformations" title="Permalink to this headline">#</a></h1>
<div class="section" id="affine-transformations">
<h2><span class="section-number">3.1. </span>Affine Transformations<a class="headerlink" href="#affine-transformations" title="Permalink to this headline">#</a></h2>
<div class="section" id="getaffinetransform">
<h3><span class="section-number">3.1.1. </span>getAffineTransform<a class="headerlink" href="#getaffinetransform" title="Permalink to this headline">#</a></h3>
<p>This <a class="reference external" href="https://docs.opencv.org/2.4/modules/imgproc/doc/geometric_transformations.html?highlight=resize#getaffinetransform">function</a> calculates an affine transform from three pairs of the corresponding points.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span>cv2.getAffineTransform(Source, Destination) → retval
</pre></div>
</div>
<p>Parameters:</p>
<ul class="simple">
<li><p>Source – Coordinates of triangle vertices in the source image.</p></li>
<li><p>Destination – Coordinates of the corresponding triangle vertices in the destination image.</p></li>
</ul>
<p>The function calculates the <span class="math notranslate nohighlight">\(2 \times 3\)</span> matrix</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{bmatrix} M_{11} &amp; M_{12} &amp; M_{13} \\M_{21} &amp; M_{22} &amp; M_{23}  \end{bmatrix}\end{split}\]</div>
</div>
<div class="section" id="image-wrap">
<h3><span class="section-number">3.1.2. </span>Image Wrap<a class="headerlink" href="#image-wrap" title="Permalink to this headline">#</a></h3>
<p>Calculates a Applies an <a class="reference external" href="https://docs.opencv.org/2.4/modules/imgproc/doc/geometric_transformations.html?highlight=warpaffine#warpaffine">affine transformation</a> to an image.</p>
<div class="amsmath math notranslate nohighlight" id="equation-82211ac6-710d-4b63-8f99-9e91b42adc9e">
<span class="eqno">(3.1)<a class="headerlink" href="#equation-82211ac6-710d-4b63-8f99-9e91b42adc9e" title="Permalink to this equation">#</a></span>\[\begin{equation}
\begin{bmatrix}
x'_i \\ y'_i \end{bmatrix} = 
\begin{bmatrix} M_{11} &amp; M_{12} &amp; M_{13} \\M_{21} &amp; M_{22} &amp; M_{23}  \end{bmatrix}\begin{bmatrix} x_i \\ y_i \\ 1 \end{bmatrix}
\end{equation}\]</div>
<p>We can define a map function as follows</p>
<div class="amsmath math notranslate nohighlight" id="equation-ef8148f7-8877-46dd-ac4b-9bf124c8661f">
<span class="eqno">(3.2)<a class="headerlink" href="#equation-ef8148f7-8877-46dd-ac4b-9bf124c8661f" title="Permalink to this equation">#</a></span>\[\begin{equation}
\text{map_matrix}(t_x, t_y) = \begin{bmatrix} 1 &amp; 0 &amp; t_x \\ 0 &amp; 1 &amp; t_y  \end{bmatrix}
\end{equation}\]</div>
<p><font color='Blue'><b>Example</b></font>:</p>
<p>We use the sklearn <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.datasets.load_sample_images.html#sklearn.datasets.load_sample_images">image dataset</a> to demonstrate basic operations using Open CV.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_sample_image</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">matplotlib.font_manager</span> <span class="kn">import</span> <span class="n">FontProperties</span>

<span class="n">Img</span> <span class="o">=</span> <span class="n">load_sample_image</span><span class="p">(</span><span class="s1">&#39;china.jpg&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">font</span> <span class="o">=</span> <span class="n">FontProperties</span><span class="p">()</span>
<span class="n">font</span><span class="o">.</span><span class="n">set_weight</span><span class="p">(</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Img</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/c94bea60b2cdb4bdf9b91985050120095cc5aa26b5554af56ae8e1574b80ab66.png" src="_images/c94bea60b2cdb4bdf9b91985050120095cc5aa26b5554af56ae8e1574b80ab66.png" />
</div>
</div>
<p>Here is a breakdown of the code:</p>
<ol class="arabic simple">
<li><p>Importing the necessary libraries:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">sklearn.datasets</span> <span class="pre">import</span> <span class="pre">load_sample_image</span></code>: This imports the function <code class="docutils literal notranslate"><span class="pre">load_sample_image</span></code> from the scikit-learn library, which is used to load sample images.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">matplotlib.pyplot</span> <span class="pre">as</span> <span class="pre">plt</span></code>: This imports the <code class="docutils literal notranslate"><span class="pre">pyplot</span></code> module from the matplotlib library, which provides functions for creating plots and visualizations.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">matplotlib.font_manager</span> <span class="pre">import</span> <span class="pre">FontProperties</span></code>: This imports the <code class="docutils literal notranslate"><span class="pre">FontProperties</span></code> class from the <code class="docutils literal notranslate"><span class="pre">font_manager</span></code> module in matplotlib, which is used to modify the font properties of the plot.</p></li>
</ul>
</li>
<li><p>Loading the sample image:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Img</span> <span class="pre">=</span> <span class="pre">load_sample_image('china.jpg')</span></code>: This line loads a sample image named ‘china.jpg’ using the <code class="docutils literal notranslate"><span class="pre">load_sample_image</span></code> function from scikit-learn. The image is stored in the variable <code class="docutils literal notranslate"><span class="pre">Img</span></code>.</p></li>
</ul>
</li>
<li><p>Creating the plot:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">fig,</span> <span class="pre">ax</span> <span class="pre">=</span> <span class="pre">plt.subplots(1,</span> <span class="pre">1</span> <span class="pre">,</span> <span class="pre">figsize</span> <span class="pre">=</span> <span class="pre">(8,</span> <span class="pre">6))</span></code>: This line creates a figure and a set of subplots. It creates a single subplot (<code class="docutils literal notranslate"><span class="pre">1,</span> <span class="pre">1</span></code>) and sets the figure size to 8 inches by 6 inches. The figure object is stored in the variable <code class="docutils literal notranslate"><span class="pre">fig</span></code>, and the axes object (plot) is stored in the variable <code class="docutils literal notranslate"><span class="pre">ax</span></code>.</p></li>
</ul>
</li>
<li><p>Modifying the font properties:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">font</span> <span class="pre">=</span> <span class="pre">FontProperties()</span></code>: This line creates a <code class="docutils literal notranslate"><span class="pre">FontProperties</span></code> object, which is used to modify the font properties of the plot.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">font.set_weight('bold')</span></code>: This sets the font weight to bold using the <code class="docutils literal notranslate"><span class="pre">set_weight</span></code> method of the <code class="docutils literal notranslate"><span class="pre">FontProperties</span></code> object.</p></li>
</ul>
</li>
<li><p>Displaying the image:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">_</span> <span class="pre">=</span> <span class="pre">ax.imshow(Img)</span></code>: This line displays the image on the plot axes (<code class="docutils literal notranslate"><span class="pre">ax</span></code>) using the <code class="docutils literal notranslate"><span class="pre">imshow</span></code> function. The image data stored in the variable <code class="docutils literal notranslate"><span class="pre">Img</span></code> is passed as the argument.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_</span> <span class="pre">=</span> <span class="pre">ax.axis('off')</span></code>: This line turns off the axis labels and ticks on the plot axes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_</span> <span class="pre">=</span> <span class="pre">ax.set_aspect(1)</span></code>: This line sets the aspect ratio of the image to 1, ensuring that the image is displayed without distortion.</p></li>
</ul>
</li>
</ol>
<p>Overall, this code loads the ‘china.jpg’ sample image, creates a plot with a single subplot, displays the image on the plot without axis labels and ticks, and sets the aspect ratio of the image to 1.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="k">def</span> <span class="nf">map_matrix</span><span class="p">(</span><span class="n">tx</span><span class="p">,</span> <span class="n">ty</span><span class="p">):</span>
    <span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)[:</span><span class="mi">2</span><span class="p">,:]</span>
    <span class="n">M</span><span class="p">[:,</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">tx</span><span class="p">,</span> <span class="n">ty</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">M</span>

<span class="kn">import</span> <span class="nn">cv2</span>
<span class="n">Out</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">warpAffine</span><span class="p">(</span><span class="n">Img</span><span class="p">,</span> <span class="n">map_matrix</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span> <span class="p">,</span> <span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">])</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">,</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Image Wrap&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">18</span><span class="p">)</span>

<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Img</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Original Image&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Out</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;warpAffine Image with tx = 10, ty = 20&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s1">&#39;auto&#39;</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="k">del</span> <span class="n">i</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">0.02</span><span class="o">*</span><span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;Size: </span><span class="si">%i</span><span class="s1"> by </span><span class="si">%i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
               <span class="n">size</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s2">&quot;square&quot;</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s1">&#39;Navy&#39;</span><span class="p">,</span><span class="n">fc</span><span class="o">=</span><span class="s1">&#39;LightSkyBlue&#39;</span><span class="p">))</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">0.02</span><span class="o">*</span><span class="n">Out</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;Size: </span><span class="si">%i</span><span class="s1"> by </span><span class="si">%i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">Out</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Out</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
               <span class="n">size</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s2">&quot;square&quot;</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s1">&#39;Navy&#39;</span><span class="p">,</span><span class="n">fc</span><span class="o">=</span><span class="s1">&#39;LightSkyBlue&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/e0421a6285c4f93ce5b0c7686893470abd2bddf93ba0f0c3e07de019f68f2469.png" src="_images/e0421a6285c4f93ce5b0c7686893470abd2bddf93ba0f0c3e07de019f68f2469.png" />
</div>
</div>
<p>This code performs the following tasks:</p>
<ol class="arabic simple">
<li><p>The code starts by importing the necessary libraries:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">numpy</span></code> is imported as <code class="docutils literal notranslate"><span class="pre">np</span></code> to perform numerical operations on arrays.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cv2</span></code> is imported to access the computer vision functions of OpenCV.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot</span></code> is imported as <code class="docutils literal notranslate"><span class="pre">plt</span></code> to plot and visualize the images.</p></li>
</ul>
</li>
<li><p>The code defines a function called <code class="docutils literal notranslate"><span class="pre">map_matrix(tx,</span> <span class="pre">ty)</span></code>. This function creates an affine transformation matrix based on the provided translation values <code class="docutils literal notranslate"><span class="pre">tx</span></code> and <code class="docutils literal notranslate"><span class="pre">ty</span></code>. The affine transformation matrix is a 3x3 matrix used to transform images. In this case, the function constructs a 2x3 matrix by taking the first two rows of the identity matrix and setting the last column to <code class="docutils literal notranslate"><span class="pre">[tx,</span> <span class="pre">ty]</span></code>. The function then returns this matrix.</p></li>
<li><p>The code uses the <code class="docutils literal notranslate"><span class="pre">cv2.warpAffine()</span></code> function to warp the image <code class="docutils literal notranslate"><span class="pre">Img</span></code> using the affine transformation matrix generated by <code class="docutils literal notranslate"><span class="pre">map_matrix(10,</span> <span class="pre">20)</span></code>. The <code class="docutils literal notranslate"><span class="pre">warpAffine()</span></code> function applies the specified affine transformation to the image. The resulting warped image is assigned to the variable <code class="docutils literal notranslate"><span class="pre">Out</span></code>.</p></li>
<li><p>The code creates a figure and subplots using <code class="docutils literal notranslate"><span class="pre">plt.subplots()</span></code>. It sets the figure size to <code class="docutils literal notranslate"><span class="pre">(17,</span> <span class="pre">6)</span></code>.</p></li>
<li><p>The variable <code class="docutils literal notranslate"><span class="pre">ax</span></code> is assigned to the two subplots created by <code class="docutils literal notranslate"><span class="pre">ax</span> <span class="pre">=</span> <span class="pre">ax.ravel()</span></code>. This allows accessing each subplot individually.</p></li>
<li><p>The code sets the title of the figure using <code class="docutils literal notranslate"><span class="pre">fig.suptitle()</span></code>.</p></li>
<li><p>The code plots the original image <code class="docutils literal notranslate"><span class="pre">Img</span></code> on <code class="docutils literal notranslate"><span class="pre">ax[0]</span></code> using <code class="docutils literal notranslate"><span class="pre">ax[0].imshow()</span></code>. It sets the title of this subplot as “Original Image”.</p></li>
<li><p>The code plots the warped image <code class="docutils literal notranslate"><span class="pre">Out</span></code> on <code class="docutils literal notranslate"><span class="pre">ax[1]</span></code> using <code class="docutils literal notranslate"><span class="pre">ax[1].imshow()</span></code>. It sets the title of this subplot as “warpAffine Image with tx = 10, ty = 20”.</p></li>
<li><p>A loop runs for each subplot to set the aspect ratio to “auto” and turn off the axes.</p></li>
<li><p>The code adds text to <code class="docutils literal notranslate"><span class="pre">ax[0]</span></code> and <code class="docutils literal notranslate"><span class="pre">ax[1]</span></code> to display the size of the original and warped images, respectively. The size information is extracted from the shape of the images using <code class="docutils literal notranslate"><span class="pre">Img.shape</span></code> and <code class="docutils literal notranslate"><span class="pre">Out.shape</span></code>.</p></li>
<li><p>Finally, the variable <code class="docutils literal notranslate"><span class="pre">i</span></code> is deleted, and the plot is displayed using <code class="docutils literal notranslate"><span class="pre">plt.show()</span></code>.</p></li>
</ol>
<p>Overall, this code demonstrates how to use OpenCV to warp images using an affine transformation matrix and visualizes the original and warped images side by side using matplotlib.</p>
<p><font color='Blue'><b>Example</b></font>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pts1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span> <span class="p">[</span><span class="mi">150</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">150</span><span class="p">]])</span> 
<span class="n">pts2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">],</span> <span class="p">[</span><span class="mi">200</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">250</span><span class="p">]])</span>   
<span class="n">M</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">getAffineTransform</span><span class="p">(</span><span class="n">pts1</span><span class="p">,</span> <span class="n">pts2</span><span class="p">)</span> 
<span class="k">del</span> <span class="n">pts1</span><span class="p">,</span> <span class="n">pts2</span>

<span class="n">Out</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">warpAffine</span><span class="p">(</span><span class="n">Img</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">])</span> 

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">,</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Image Wrap&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">18</span><span class="p">)</span>

<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Img</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Original Image&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Out</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;warpAffine Image using getAffineTransform&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s1">&#39;auto&#39;</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="k">del</span> <span class="n">i</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">0.02</span><span class="o">*</span><span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;Size: </span><span class="si">%i</span><span class="s1"> by </span><span class="si">%i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
               <span class="n">size</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s2">&quot;square&quot;</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s1">&#39;Navy&#39;</span><span class="p">,</span><span class="n">fc</span><span class="o">=</span><span class="s1">&#39;LightSkyBlue&#39;</span><span class="p">))</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">0.02</span><span class="o">*</span><span class="n">Out</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;Size: </span><span class="si">%i</span><span class="s1"> by </span><span class="si">%i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">Out</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Out</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
               <span class="n">size</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s2">&quot;square&quot;</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s1">&#39;Navy&#39;</span><span class="p">,</span><span class="n">fc</span><span class="o">=</span><span class="s1">&#39;LightSkyBlue&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/57a01e475501a5f2e76b839b6a09cbebd44e965c89c3b2efe3e4a5e431d3b587.png" src="_images/57a01e475501a5f2e76b839b6a09cbebd44e965c89c3b2efe3e4a5e431d3b587.png" />
</div>
</div>
<p>This code performs the following tasks:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pts1</span></code> and <code class="docutils literal notranslate"><span class="pre">pts2</span></code> are two sets of three points defined as NumPy arrays. Each point represents the coordinates (x, y) in the image plane. These points are used to define the source and destination coordinates for the transformation.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">cv2.getAffineTransform()</span></code> function takes <code class="docutils literal notranslate"><span class="pre">pts1</span></code> and <code class="docutils literal notranslate"><span class="pre">pts2</span></code> as input and calculates the affine transformation matrix <code class="docutils literal notranslate"><span class="pre">M</span></code>. This matrix defines the relationship between the source and destination points and is necessary for the transformation.</p></li>
<li><p>After obtaining the transformation matrix <code class="docutils literal notranslate"><span class="pre">M</span></code>, <code class="docutils literal notranslate"><span class="pre">pts1</span></code> and <code class="docutils literal notranslate"><span class="pre">pts2</span></code> are deleted to free up memory.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">cv2.warpAffine()</span></code> function is used to apply the affine transformation to the image <code class="docutils literal notranslate"><span class="pre">Img</span></code>. The resulting transformed image is stored in the variable <code class="docutils literal notranslate"><span class="pre">Out</span></code>. The <code class="docutils literal notranslate"><span class="pre">Img.shape[:2]</span></code> is used to extract the dimensions (height and width) of the image.</p></li>
<li><p>The code then creates a matplotlib figure with two subplots, <code class="docutils literal notranslate"><span class="pre">fig</span></code> and <code class="docutils literal notranslate"><span class="pre">ax</span></code>, to display the original image and the transformed image side by side.</p></li>
<li><p>The original image <code class="docutils literal notranslate"><span class="pre">Img</span></code> is displayed in the first subplot (<code class="docutils literal notranslate"><span class="pre">ax[0]</span></code>) using <code class="docutils literal notranslate"><span class="pre">imshow()</span></code> function, and a title is set for this subplot.</p></li>
<li><p>The transformed image <code class="docutils literal notranslate"><span class="pre">Out</span></code> is displayed in the second subplot (<code class="docutils literal notranslate"><span class="pre">ax[1]</span></code>) using <code class="docutils literal notranslate"><span class="pre">imshow()</span></code> function, and a title is set for this subplot.</p></li>
<li><p>A loop is used to iterate over both subplots to set their aspect ratio to ‘auto’ and turn off the axes.</p></li>
<li><p>Text annotations are added to both subplots to display the size of the original and transformed images.</p></li>
</ol>
<p>In summary, this code applies an affine transformation to an image using the source and destination points defined by <code class="docutils literal notranslate"><span class="pre">pts1</span></code> and <code class="docutils literal notranslate"><span class="pre">pts2</span></code>. It then displays the original and transformed images side by side using matplotlib.</p>
</div>
</div>
<div class="section" id="resize">
<h2><span class="section-number">3.2. </span>Resize<a class="headerlink" href="#resize" title="Permalink to this headline">#</a></h2>
<p><a class="reference external" href="https://docs.opencv.org/2.4/modules/imgproc/doc/geometric_transformations.html?highlight=resize#cv2.resize">resizing</a> an image.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Out</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">Img</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">fx</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">fy</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">interpolation</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">INTER_CUBIC</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">,</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Resize&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">18</span><span class="p">)</span>

<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Img</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Original Image&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Out</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Resized Image&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="k">del</span> <span class="n">i</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">0.02</span><span class="o">*</span><span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;Size: </span><span class="si">%i</span><span class="s1"> by </span><span class="si">%i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
               <span class="n">size</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s2">&quot;square&quot;</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s1">&#39;Navy&#39;</span><span class="p">,</span><span class="n">fc</span><span class="o">=</span><span class="s1">&#39;LightSkyBlue&#39;</span><span class="p">))</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">0.02</span><span class="o">*</span><span class="n">Out</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;Size: </span><span class="si">%i</span><span class="s1"> by </span><span class="si">%i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">Out</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Out</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
               <span class="n">size</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s2">&quot;square&quot;</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s1">&#39;Navy&#39;</span><span class="p">,</span><span class="n">fc</span><span class="o">=</span><span class="s1">&#39;LightSkyBlue&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/eb4f9794dd6aaf2c4d75df41e0659594c19de33e28b19d81b5b662fbbf448568.png" src="_images/eb4f9794dd6aaf2c4d75df41e0659594c19de33e28b19d81b5b662fbbf448568.png" />
</div>
</div>
<p>This code performs the following tasks:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pts1</span></code> and <code class="docutils literal notranslate"><span class="pre">pts2</span></code> are two sets of three points defined as NumPy arrays. Each point represents the coordinates (x, y) in the image plane. These points are used to define the source and destination coordinates for the transformation.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">cv2.getAffineTransform()</span></code> function takes <code class="docutils literal notranslate"><span class="pre">pts1</span></code> and <code class="docutils literal notranslate"><span class="pre">pts2</span></code> as input and calculates the affine transformation matrix <code class="docutils literal notranslate"><span class="pre">M</span></code>. This matrix defines the relationship between the source and destination points and is necessary for the transformation.</p></li>
<li><p>After obtaining the transformation matrix <code class="docutils literal notranslate"><span class="pre">M</span></code>, <code class="docutils literal notranslate"><span class="pre">pts1</span></code> and <code class="docutils literal notranslate"><span class="pre">pts2</span></code> are deleted to free up memory.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">cv2.warpAffine()</span></code> function is used to apply the affine transformation to the image <code class="docutils literal notranslate"><span class="pre">Img</span></code>. The resulting transformed image is stored in the variable <code class="docutils literal notranslate"><span class="pre">Out</span></code>. The <code class="docutils literal notranslate"><span class="pre">Img.shape[:2]</span></code> is used to extract the dimensions (height and width) of the image.</p></li>
<li><p>The code then creates a matplotlib figure with two subplots, <code class="docutils literal notranslate"><span class="pre">fig</span></code> and <code class="docutils literal notranslate"><span class="pre">ax</span></code>, to display the original image and the transformed image side by side.</p></li>
<li><p>The original image <code class="docutils literal notranslate"><span class="pre">Img</span></code> is displayed in the first subplot (<code class="docutils literal notranslate"><span class="pre">ax[0]</span></code>) using <code class="docutils literal notranslate"><span class="pre">imshow()</span></code> function, and a title is set for this subplot.</p></li>
<li><p>The transformed image <code class="docutils literal notranslate"><span class="pre">Out</span></code> is displayed in the second subplot (<code class="docutils literal notranslate"><span class="pre">ax[1]</span></code>) using <code class="docutils literal notranslate"><span class="pre">imshow()</span></code> function, and a title is set for this subplot.</p></li>
<li><p>A loop is used to iterate over both subplots to set their aspect ratio to ‘auto’ and turn off the axes.</p></li>
<li><p>Text annotations are added to both subplots to display the size of the original and transformed images.</p></li>
</ol>
<p>In summary, this code applies an affine transformation to an image using the source and destination points defined by <code class="docutils literal notranslate"><span class="pre">pts1</span></code> and <code class="docutils literal notranslate"><span class="pre">pts2</span></code>. It then displays the original and transformed images side by side using matplotlib.</p>
</div>
<div class="section" id="warp-perspective">
<h2><span class="section-number">3.3. </span>Warp Perspective<a class="headerlink" href="#warp-perspective" title="Permalink to this headline">#</a></h2>
<p>Applies a <a class="reference external" href="https://docs.opencv.org/2.4/modules/imgproc/doc/geometric_transformations.html?highlight=warpaffine#warpperspective">perspective transformation</a> to an image.</p>
<p>Consider a matrix of a perspective transform</p>
<div class="math notranslate nohighlight">
\[\begin{split}M = \begin{bmatrix} M_{11} &amp; M_{12} &amp; M_{13} \\M_{21} &amp; M_{22} &amp; M_{23}  \\M_{31} &amp; M_{32} &amp; M_{33} \end{bmatrix}\end{split}\]</div>
<p>then
$$</p>
<div class="amsmath math notranslate nohighlight" id="equation-e9d54339-2db4-4925-88f7-655b30552a8c">
<span class="eqno">(3.3)<a class="headerlink" href="#equation-e9d54339-2db4-4925-88f7-655b30552a8c" title="Permalink to this equation">#</a></span>\[\begin{bmatrix}
x'_i \\ y'_i \end{bmatrix}\]</div>
<div class="amsmath math notranslate nohighlight" id="equation-4ece1f21-56f0-445b-8bff-d61f09bd0050">
<span class="eqno">(3.4)<a class="headerlink" href="#equation-4ece1f21-56f0-445b-8bff-d61f09bd0050" title="Permalink to this equation">#</a></span>\[\begin{bmatrix} \dfrac{M_{11} x + M_{12} y + M_{13}}{M_{31} x + M_{32} y + M_{33}}
\\\dfrac{M_{21} x + M_{22} y + M_{23}}{M_{31} x + M_{32} y + M_{33}}
\end{bmatrix}\]</div>
<p>$$</p>
<p>also <a class="reference external" href="https://docs.opencv.org/2.4/modules/imgproc/doc/geometric_transformations.html?highlight=getperspectivetransform#getperspectivetransform">getPerspectiveTransform</a> calculates a perspective transform from four pairs of the corresponding points.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pts1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">([[</span><span class="mi">50</span><span class="p">,</span><span class="mi">60</span><span class="p">],[</span><span class="mi">350</span><span class="p">,</span> <span class="mi">50</span><span class="p">],[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">380</span><span class="p">],[</span><span class="mi">380</span><span class="p">,</span> <span class="mi">400</span><span class="p">]])</span>
<span class="n">pts2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">400</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">400</span><span class="p">],[</span><span class="mi">400</span><span class="p">,</span><span class="mi">400</span><span class="p">]])</span>

<span class="n">M</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">getPerspectiveTransform</span><span class="p">(</span><span class="n">pts1</span><span class="p">,</span><span class="n">pts2</span><span class="p">)</span>
<span class="n">Out</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">warpPerspective</span><span class="p">(</span><span class="n">Img</span><span class="p">,</span><span class="n">M</span><span class="p">,</span> <span class="p">(</span><span class="mi">400</span><span class="p">,</span><span class="mi">400</span><span class="p">))</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">,</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Warp Perspective&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">18</span><span class="p">)</span>

<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Img</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Original Image&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Out</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;warpAffine Image with tx = 10, ty = 20&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="k">del</span> <span class="n">i</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">0.02</span><span class="o">*</span><span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;Size: </span><span class="si">%i</span><span class="s1"> by </span><span class="si">%i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
               <span class="n">size</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s2">&quot;square&quot;</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s1">&#39;Navy&#39;</span><span class="p">,</span><span class="n">fc</span><span class="o">=</span><span class="s1">&#39;LightSkyBlue&#39;</span><span class="p">))</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">0.02</span><span class="o">*</span><span class="n">Out</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;Size: </span><span class="si">%i</span><span class="s1"> by </span><span class="si">%i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">Out</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Out</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
               <span class="n">size</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s2">&quot;square&quot;</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s1">&#39;Navy&#39;</span><span class="p">,</span><span class="n">fc</span><span class="o">=</span><span class="s1">&#39;LightSkyBlue&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/bddc057a5cc30c45d9de34c25d5751aa019372da56d2f391e348e7779e1be1b3.png" src="_images/bddc057a5cc30c45d9de34c25d5751aa019372da56d2f391e348e7779e1be1b3.png" />
</div>
</div>
<p>This code performs the following tasks:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pts1</span></code> and <code class="docutils literal notranslate"><span class="pre">pts2</span></code> are two sets of four points defined as NumPy arrays. Each point represents the coordinates (x, y) in the image plane. <code class="docutils literal notranslate"><span class="pre">pts1</span></code> represents the four corners of a quadrilateral region in the source image, and <code class="docutils literal notranslate"><span class="pre">pts2</span></code> represents the corresponding four corners of the desired quadrilateral region in the output image after transformation.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">cv2.getPerspectiveTransform()</span></code> function takes <code class="docutils literal notranslate"><span class="pre">pts1</span></code> and <code class="docutils literal notranslate"><span class="pre">pts2</span></code> as input and calculates the perspective transformation matrix <code class="docutils literal notranslate"><span class="pre">M</span></code>. This matrix defines the relationship between the source and destination points and is necessary for the transformation.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">cv2.warpPerspective()</span></code> function is used to apply the perspective transformation to the image <code class="docutils literal notranslate"><span class="pre">Img</span></code> using the transformation matrix <code class="docutils literal notranslate"><span class="pre">M</span></code>. The resulting transformed image is stored in the variable <code class="docutils literal notranslate"><span class="pre">Out</span></code>. The target size for the output image is specified as (400, 400).</p></li>
<li><p>The code then creates a matplotlib figure with two subplots, <code class="docutils literal notranslate"><span class="pre">fig</span></code> and <code class="docutils literal notranslate"><span class="pre">ax</span></code>, to display the original image and the transformed image side by side.</p></li>
<li><p>The original image <code class="docutils literal notranslate"><span class="pre">Img</span></code> is displayed in the first subplot (<code class="docutils literal notranslate"><span class="pre">ax[0]</span></code>) using the <code class="docutils literal notranslate"><span class="pre">imshow()</span></code> function, and a title is set for this subplot.</p></li>
<li><p>The transformed image <code class="docutils literal notranslate"><span class="pre">Out</span></code> is displayed in the second subplot (<code class="docutils literal notranslate"><span class="pre">ax[1]</span></code>) using the <code class="docutils literal notranslate"><span class="pre">imshow()</span></code> function, and a title is set for this subplot.</p></li>
<li><p>A loop is used to iterate over both subplots to set their aspect ratio to 1 (so that the image is not distorted) and turn off the axes.</p></li>
<li><p>Text annotations are added to both subplots to display the size of the original and transformed images.</p></li>
</ol>
<p>In summary, this code performs a perspective transformation on an image using the <code class="docutils literal notranslate"><span class="pre">cv2.getPerspectiveTransform()</span></code> and <code class="docutils literal notranslate"><span class="pre">cv2.warpPerspective()</span></code> functions. It then displays the original and transformed images side by side using matplotlib.</p>
</div>
<div class="section" id="camera-calibration">
<h2><span class="section-number">3.4. </span>Camera Calibration<a class="headerlink" href="#camera-calibration" title="Permalink to this headline">#</a></h2>
<p>Some cheap cameras can introduce the <strong>radial distortion</strong> in which straight lines appear curved. This distortion is solved as follows:
$<span class="math notranslate nohighlight">\(
\begin{cases}
x_{corrected} = x (1 + k_1 r^2 + k_2 r^4 + k_3 r^6),\\
y_{corrected} = y (1 + k_1 r^2 + k_2 r^4 + k_3 r^6)
\end{cases}
\)</span><span class="math notranslate nohighlight">\(
where \)</span>k_1<span class="math notranslate nohighlight">\(, \)</span>k_2<span class="math notranslate nohighlight">\(, and \)</span>k_3$ are distortion coefficients.</p>
<p>Another distortion is the <strong>tangential distortion</strong> that can occur due to the lens is not aligned perfectly parallel to the imaging plane. This distortion is solved as follows:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{cases}
x_{corrected} = x + [ 2p_1xy + p_2(r^2+2x^2)], \\
y_{corrected} = y + [ p_1(r^2+ 2y^2)+ 2p_2xy]
\end{cases}
\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(p_1\)</span> and <span class="math notranslate nohighlight">\(p_2\)</span> are distortion coefficients.</p>
<p><strong>Undistort</strong> <a class="reference external" href="https://docs.opencv.org/2.4/modules/imgproc/doc/geometric_transformations.html?highlight=resize#undistort">function</a> transforms an image to compensate for lens distortion.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span>cv2.undistort(Source, cameraMatrix, distCoeffs[, dst[, newCameraMatrix]]) → Destination
</pre></div>
</div>
<p>where</p>
<ul class="simple">
<li><p><strong>cameraMatrix</strong> is an input camera matrix <span class="math notranslate nohighlight">\(\begin{bmatrix} f_x &amp; 0 &amp; c_x\\ 0 &amp; f_y &amp; c_y \\ 0 &amp; 0 &amp; 1\end{bmatrix}\)</span> with focal length <span class="math notranslate nohighlight">\((f_x,f_y)\)</span>, and optical centers <span class="math notranslate nohighlight">\((c_x, c_y)\)</span> etc.</p></li>
<li><p><strong>distCoeffs</strong> is an input vector of distortion coefficients <span class="math notranslate nohighlight">\((k_1, k_2, p_1, p_2[, k_3[, k_4, k_5, k_6]])\)</span> of 4, 5, or 8 elements. If the vector is NULL/empty, the zero distortion coefficients are assumed.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">skimage</span> <span class="kn">import</span> <span class="n">io</span>
<span class="n">Img</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;https://github.com/opencv/opencv/blob/fc1a15626226609babd128e043cf7c4e32f567ca/samples/data/left12.jpg?raw=true&#39;</span><span class="p">)</span>
<span class="n">Img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">Img</span><span class="p">,</span><span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_GRAY2RGB</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">,</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Finding Corners&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">18</span><span class="p">)</span>
<span class="c1"># Left Image</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Img</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Original Image: github.com/opencv&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>

<span class="c1"># termination criteria</span>
<span class="n">criteria</span> <span class="o">=</span> <span class="p">(</span><span class="n">cv2</span><span class="o">.</span><span class="n">TERM_CRITERIA_EPS</span> <span class="o">+</span> <span class="n">cv2</span><span class="o">.</span><span class="n">TERM_CRITERIA_MAX_ITER</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">)</span>

<span class="c1"># number of inside corners along x and y directions </span>
<span class="n">nx</span> <span class="o">=</span> <span class="mi">9</span>
<span class="n">ny</span> <span class="o">=</span> <span class="mi">6</span>
<span class="n">gray</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">Img</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_BGR2GRAY</span><span class="p">)</span>

<span class="c1"># prepare object points</span>
<span class="n">objp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">nx</span><span class="o">*</span><span class="n">ny</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="n">objp</span><span class="p">[:,:</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mgrid</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">nx</span><span class="p">,</span><span class="mi">0</span><span class="p">:</span><span class="n">ny</span><span class="p">]</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># Arrays to store object points and image points from all the images.</span>
<span class="n">objpoints</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1"># 3d point in real world space</span>
<span class="n">imgpoints</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1"># 2d points in image plane.</span>

<span class="c1"># Find the chessboard corners</span>
<span class="n">ret</span><span class="p">,</span> <span class="n">corners</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">findChessboardCorners</span><span class="p">(</span><span class="n">gray</span><span class="p">,</span> <span class="p">(</span><span class="n">nx</span><span class="p">,</span> <span class="n">ny</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>

<span class="c1"># If found, draw corners</span>
<span class="k">if</span> <span class="n">ret</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
    <span class="n">objpoints</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">objp</span><span class="p">)</span>
    
    <span class="c1"># Draw and display the corners</span>
    <span class="n">cv2</span><span class="o">.</span><span class="n">drawChessboardCorners</span><span class="p">(</span><span class="n">Img</span><span class="p">,</span> <span class="p">(</span><span class="n">nx</span><span class="p">,</span> <span class="n">ny</span><span class="p">),</span> <span class="n">corners</span><span class="p">,</span> <span class="n">ret</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Img</span><span class="p">)</span>
    
    <span class="n">corners2</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cornerSubPix</span><span class="p">(</span><span class="n">gray</span><span class="p">,</span> <span class="n">corners</span><span class="p">,(</span><span class="mi">11</span><span class="p">,</span><span class="mi">11</span><span class="p">),(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">criteria</span><span class="p">)</span>
    <span class="n">imgpoints</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">corners2</span><span class="p">)</span>
        
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Finding Corners&#39;</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/be4b6269b7c868db9240315cef928f6558575197fa10d458f770c186a00c7452.png" src="_images/be4b6269b7c868db9240315cef928f6558575197fa10d458f770c186a00c7452.png" />
</div>
</div>
<p>This code performs the following tasks:</p>
<ol class="arabic simple">
<li><p>The code begins by importing the necessary libraries. <code class="docutils literal notranslate"><span class="pre">skimage.io</span></code> is imported to read the image from a URL, and <code class="docutils literal notranslate"><span class="pre">cv2</span></code> is imported from OpenCV for various image processing tasks.</p></li>
<li><p>The image is loaded using <code class="docutils literal notranslate"><span class="pre">io.imread()</span></code> from the provided URL. The image is initially read as a grayscale image.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">cv2.cvtColor()</span></code> function is used to convert the grayscale image to RGB format. This is done to ensure that the image is in the correct format for subsequent processing.</p></li>
<li><p>A matplotlib figure with two subplots, <code class="docutils literal notranslate"><span class="pre">fig</span></code> and <code class="docutils literal notranslate"><span class="pre">ax</span></code>, is created to display the original image and the image with detected corners side by side.</p></li>
<li><p>The original image <code class="docutils literal notranslate"><span class="pre">Img</span></code> is displayed in the first subplot (<code class="docutils literal notranslate"><span class="pre">ax[0]</span></code>) using <code class="docutils literal notranslate"><span class="pre">imshow()</span></code>, and a title is set for this subplot.</p></li>
<li><p>The code defines the termination criteria for the corner detection algorithm. The criteria indicate the maximum number of iterations (<code class="docutils literal notranslate"><span class="pre">cv2.TERM_CRITERIA_MAX_ITER</span></code>) and the required accuracy (<code class="docutils literal notranslate"><span class="pre">cv2.TERM_CRITERIA_EPS</span></code>).</p></li>
<li><p>The code specifies the number of inner corners in the chessboard grid along the x and y directions (<code class="docutils literal notranslate"><span class="pre">nx</span></code> and <code class="docutils literal notranslate"><span class="pre">ny</span></code>, respectively).</p></li>
<li><p>The grayscale image is calculated by converting <code class="docutils literal notranslate"><span class="pre">Img</span></code> to grayscale using <code class="docutils literal notranslate"><span class="pre">cv2.cvtColor()</span></code>.</p></li>
<li><p>An object <code class="docutils literal notranslate"><span class="pre">objp</span></code> is created to store the object points in the real-world space. It is a 3D array where each row represents a point in the grid. The <code class="docutils literal notranslate"><span class="pre">np.mgrid</span></code> function is used to generate the grid coordinates.</p></li>
<li><p>Empty arrays <code class="docutils literal notranslate"><span class="pre">objpoints</span></code> and <code class="docutils literal notranslate"><span class="pre">imgpoints</span></code> are created to store the 3D object points and 2D image points, respectively.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">cv2.findChessboardCorners()</span></code> function is used to detect the corners of the chessboard pattern in the grayscale image. The function takes the grayscale image, the grid size (<code class="docutils literal notranslate"><span class="pre">nx</span></code> and <code class="docutils literal notranslate"><span class="pre">ny</span></code>), and <code class="docutils literal notranslate"><span class="pre">None</span></code> as input. It returns a boolean value indicating whether the corners were found and an array of detected corner coordinates.</p></li>
<li><p>If the corners are found (<code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">==</span> <span class="pre">True</span></code>), the object points (<code class="docutils literal notranslate"><span class="pre">objp</span></code>) are appended to <code class="docutils literal notranslate"><span class="pre">objpoints</span></code>, and the chessboard corners are drawn on the image using <code class="docutils literal notranslate"><span class="pre">cv2.drawChessboardCorners()</span></code>.</p></li>
<li><p>The modified image with drawn corners is displayed in the second subplot (<code class="docutils literal notranslate"><span class="pre">ax[1]</span></code>).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">cv2.cornerSubPix()</span></code> function is called to refine the corner locations with sub-pixel accuracy. It takes the grayscale image, the detected corners, the search window size, and the termination criteria as input. The refined corner coordinates are stored in <code class="docutils literal notranslate"><span class="pre">corners2</span></code>.</p></li>
<li><p>The refined corner coordinates (<code class="docutils literal notranslate"><span class="pre">corners2</span></code>) are appended to <code class="docutils literal notranslate"><span class="pre">imgpoints</span></code>.</p></li>
<li><p>A loop is used to iterate over both subplots to set their aspect ratio to 1 and turn off the axes.</p></li>
</ol>
<p>In summary, this code loads an image, finds and draws the corners of a chessboard pattern in the image, and displays the original image and the image with detected corners side by side.</p>
<p>For calibration, we can use <a class="reference external" href="https://docs.opencv.org/2.4/modules/calib3d/doc/camera_calibration_and_3d_reconstruction.html#calibratecamera">cv2.calibrateCamera()</a> function. It returns the camera matrix, distortion coefficients, rotation and translation vectors etc.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ret</span><span class="p">,</span> <span class="n">mtx</span><span class="p">,</span> <span class="n">dist</span><span class="p">,</span> <span class="n">rvecs</span><span class="p">,</span> <span class="n">tvecs</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">calibrateCamera</span><span class="p">(</span><span class="n">objpoints</span><span class="p">,</span> <span class="n">imgpoints</span><span class="p">,</span> <span class="n">gray</span><span class="o">.</span><span class="n">shape</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now using undistort</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Img</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;https://github.com/opencv/opencv/blob/fc1a15626226609babd128e043cf7c4e32f567ca/samples/data/left12.jpg?raw=true&#39;</span><span class="p">)</span>
<span class="n">Img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">Img</span><span class="p">,</span><span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_GRAY2RGB</span><span class="p">)</span>

<span class="n">h</span><span class="p">,</span>  <span class="n">w</span> <span class="o">=</span> <span class="n">Img</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
<span class="n">newcameramtx</span><span class="p">,</span> <span class="n">roi</span><span class="o">=</span><span class="n">cv2</span><span class="o">.</span><span class="n">getOptimalNewCameraMatrix</span><span class="p">(</span><span class="n">mtx</span><span class="p">,</span><span class="n">dist</span><span class="p">,(</span><span class="n">w</span><span class="p">,</span><span class="n">h</span><span class="p">),</span><span class="mi">1</span><span class="p">,(</span><span class="n">w</span><span class="p">,</span><span class="n">h</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># undistort</span>
<span class="n">mapx</span><span class="p">,</span> <span class="n">mapy</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">initUndistortRectifyMap</span><span class="p">(</span><span class="n">mtx</span><span class="p">,</span> <span class="n">dist</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">newcameramtx</span><span class="p">,(</span><span class="n">w</span><span class="p">,</span><span class="n">h</span><span class="p">),</span><span class="mi">5</span><span class="p">)</span>
<span class="n">dst</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">remap</span><span class="p">(</span><span class="n">Img</span><span class="p">,</span> <span class="n">mapx</span><span class="p">,</span> <span class="n">mapy</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">INTER_LINEAR</span><span class="p">)</span>

<span class="c1"># crop the image</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="n">roi</span>
<span class="n">Out</span> <span class="o">=</span> <span class="n">dst</span><span class="p">[</span><span class="n">y</span><span class="p">:</span><span class="n">y</span><span class="o">+</span><span class="n">h</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span><span class="o">+</span><span class="n">w</span><span class="p">]</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Out</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/c61672cf77dff5a08a4208d32ca4c73dbdaadee351fa7965699d793467491a62.png" src="_images/c61672cf77dff5a08a4208d32ca4c73dbdaadee351fa7965699d793467491a62.png" />
</div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="refrences">
<h2><span class="section-number">3.5. </span>Refrences<a class="headerlink" href="#refrences" title="Permalink to this headline">#</a></h2>
<ol class="arabic simple">
<li><p><a class="reference external" href="https://docs.opencv.org/2.4/index.html">OpenCV documentation</a></p></li>
<li><p><a class="reference external" href="https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_tutorials.html#opencv-python-tutorials">OpenCV-Python Tutorials</a></p></li>
</ol>
<hr class="docutils" />
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="Getting_Started_with_Open_CV.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">1. </span>Getting Started with Open CV</p>
      </div>
    </a>
    <a class="right-next"
       href="Drawing_Functions.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">4. </span>Drawing Functions</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#affine-transformations">3.1. Affine Transformations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#getaffinetransform">3.1.1. getAffineTransform</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#image-wrap">3.1.2. Image Wrap</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#resize">3.2. Resize</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#warp-perspective">3.3. Warp Perspective</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#camera-calibration">3.4. Camera Calibration</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#refrences">3.5. Refrences</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Hatef Dastour
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>